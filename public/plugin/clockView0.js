(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["clockView0"],{

/***/ "./src/js/plugin/clockView.js":
/*!************************************!*\
  !*** ./src/js/plugin/clockView.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _parseInt = __webpack_require__(/*! babel-runtime/core-js/number/parse-int */ \"./node_modules/babel-runtime/core-js/number/parse-int.js\");\n\nvar _parseInt2 = _interopRequireDefault(_parseInt);\n\nvar _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ \"./node_modules/babel-runtime/helpers/classCallCheck.js\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ \"./node_modules/babel-runtime/helpers/createClass.js\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _widgetHelper = __webpack_require__(/*! ../widgetHelper */ \"./src/js/widgetHelper.js\");\n\nvar _widgetHelper2 = _interopRequireDefault(_widgetHelper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Cesium = window.Cesium; /*时钟显示模块*/\n\nvar _class = function () {\n    function _class(gis) {\n        (0, _classCallCheck3.default)(this, _class);\n\n        this.gis = gis;\n        this.sceneCurrentTime = null;\n        this.sceneMultiplier = null;\n        this.sceneStartTime = null;\n        this.sceneStopTime = null;\n        this.tick = null;\n        this.dom = null;\n    }\n    //初始化\n\n\n    (0, _createClass3.default)(_class, [{\n        key: 'init',\n        value: function init() {\n            var plugin = this.gis.pluginManage.addPlugin({ id: 'ClockView', title: '场景时钟', className: 'gis-clockView', type: 'timeCtrl', proto: this });\n            this.dom = plugin.dom;\n            this.loadViewClock(plugin.dom);\n            this.eventListener();\n            return this;\n        }\n        //加载dom元素\n\n    }, {\n        key: 'loadViewClock',\n        value: function loadViewClock(parent) {\n            var _arr = [{\n                title: '场景时间',\n                parent: parent,\n                className: 'clearFix'\n            }, {\n                title: '场景当前时间',\n                listClassName: 'gis-sceneCurrentTime',\n                text: '2017-12-22 08:00:00',\n                parent: parent\n            }, {\n                title: '速率',\n                listClassName: 'gis-sceneMultiplier',\n                text: '1x',\n                parent: parent\n            }];\n\n            for (var _i = 0; _i < _arr.length; _i++) {\n                var v = _arr[_i];\n                if (v.listClassName) {\n                    this[v.listClassName.slice(4)] = _widgetHelper2.default.createList(v);\n                } else {\n                    var li = _widgetHelper2.default.createList(v);\n                    var _arr2 = [{\n                        title: '场景开始时间',\n                        className: 'gis-sceneStartTime',\n                        parent: li\n                    }, {\n                        title: '场景结束时间',\n                        className: 'gis-sceneStopTime',\n                        parent: li\n                    }];\n                    for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n                        var p = _arr2[_i2];\n                        this[p.className.slice(4)] = _widgetHelper2.default.createDiv(p);\n                    }\n                }\n            }\n\n            return this;\n        }\n        //监听事件\n\n    }, {\n        key: 'eventListener',\n        value: function eventListener() {\n            if (!this.sceneCurrentTime || !this.sceneMultiplier || !this.sceneStartTime || !this.sceneStopTime) {\n                return this.removeEventListener();\n            }\n            var fpsDom = document.querySelector('.cesium-performanceDisplay-fps');\n            this.gis.addClockEvent(function tick(t) {\n                this.tick = tick;\n                this.sceneCurrentTime.innerText = _widgetHelper2.default.getStringDateFromNormalDate(Cesium.JulianDate.toDate(t.currentTime));\n                this.sceneMultiplier.innerText = t.multiplier && t.multiplier + 'x' || '';\n                this.sceneStartTime.innerText = _widgetHelper2.default.getStringDateFromNormalDate(Cesium.JulianDate.toDate(t.startTime));\n                this.sceneStopTime.innerText = _widgetHelper2.default.getStringDateFromNormalDate(Cesium.JulianDate.toDate(t.stopTime));\n                fpsDom = fpsDom || document.querySelector('.cesium-performanceDisplay-fps');\n                if (fpsDom) {\n                    this.gis.fps = (0, _parseInt2.default)(fpsDom.innerText);\n                }\n            }, this);\n        }\n        //移除监听事件\n\n    }, {\n        key: 'removeEventListener',\n        value: function removeEventListener() {\n            return this.tick && this.gis.removeClockEvent(this.tick, this);\n        }\n        //是否显示\n\n    }, {\n        key: 'enable',\n        value: function enable(isShow) {\n            isShow = Boolean(isShow);\n            if (isShow) this.dom.style.display = 'block';else this.dom.style.display = 'none';\n        }\n    }]);\n    return _class;\n}();\n\nexports.default = _class;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcGx1Z2luL2Nsb2NrVmlldy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvcGx1Z2luL2Nsb2NrVmlldy5qcz9jODExIl0sInNvdXJjZXNDb250ZW50IjpbIi8q5pe26ZKf5pi+56S65qih5Z2XKi9cclxuaW1wb3J0IHdpZGdldEhlbHBlciBmcm9tICcuLi93aWRnZXRIZWxwZXInO1xyXG5jb25zdCBDZXNpdW0gPSB3aW5kb3cuQ2VzaXVtO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzc3tcclxuICAgIGNvbnN0cnVjdG9yKGdpcykge1xyXG4gICAgICAgIHRoaXMuZ2lzID0gZ2lzO1xyXG4gICAgICAgIHRoaXMuc2NlbmVDdXJyZW50VGltZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zY2VuZU11bHRpcGxpZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2NlbmVTdGFydFRpbWUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2NlbmVTdG9wVGltZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50aWNrID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRvbSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAvL+WIneWni+WMllxyXG4gICAgaW5pdCAoICkge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHRoaXMuZ2lzLnBsdWdpbk1hbmFnZS5hZGRQbHVnaW4oe2lkOidDbG9ja1ZpZXcnLHRpdGxlOiflnLrmma/ml7bpkp8nLGNsYXNzTmFtZTogJ2dpcy1jbG9ja1ZpZXcnLHR5cGU6J3RpbWVDdHJsJyxwcm90bzp0aGlzfSk7XHJcbiAgICAgICAgdGhpcy5kb20gPSBwbHVnaW4uZG9tO1xyXG4gICAgICAgIHRoaXMubG9hZFZpZXdDbG9jayhwbHVnaW4uZG9tKTtcclxuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXIoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8v5Yqg6L29ZG9t5YWD57SgXHJcbiAgICBsb2FkVmlld0Nsb2NrIChwYXJlbnQpIHtcclxuICAgICAgICBmb3IobGV0IHYgb2YgW3tcclxuICAgICAgICAgICAgdGl0bGU6J+WcuuaZr+aXtumXtCcsXHJcbiAgICAgICAgICAgIHBhcmVudDpwYXJlbnQsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTonY2xlYXJGaXgnXHJcbiAgICAgICAgfSx7XHJcbiAgICAgICAgICAgIHRpdGxlOiflnLrmma/lvZPliY3ml7bpl7QnLFxyXG4gICAgICAgICAgICBsaXN0Q2xhc3NOYW1lOidnaXMtc2NlbmVDdXJyZW50VGltZScsXHJcbiAgICAgICAgICAgIHRleHQ6JzIwMTctMTItMjIgMDg6MDA6MDAnLFxyXG4gICAgICAgICAgICBwYXJlbnQ6cGFyZW50XHJcbiAgICAgICAgfSx7XHJcbiAgICAgICAgICAgIHRpdGxlOifpgJ/njocnLFxyXG4gICAgICAgICAgICBsaXN0Q2xhc3NOYW1lOidnaXMtc2NlbmVNdWx0aXBsaWVyJyxcclxuICAgICAgICAgICAgdGV4dDonMXgnLFxyXG4gICAgICAgICAgICBwYXJlbnQ6cGFyZW50XHJcbiAgICAgICAgfV0pe1xyXG4gICAgICAgICAgICBpZih2Lmxpc3RDbGFzc05hbWUpe1xyXG4gICAgICAgICAgICAgICAgdGhpc1t2Lmxpc3RDbGFzc05hbWUuc2xpY2UoNCldID0gd2lkZ2V0SGVscGVyLmNyZWF0ZUxpc3Qodik7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpID0gd2lkZ2V0SGVscGVyLmNyZWF0ZUxpc3Qodik7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwIG9mIFt7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6J+WcuuaZr+W8gOWni+aXtumXtCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOidnaXMtc2NlbmVTdGFydFRpbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDpsaVxyXG4gICAgICAgICAgICAgICAgfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6J+WcuuaZr+e7k+adn+aXtumXtCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOidnaXMtc2NlbmVTdG9wVGltZScsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OmxpXHJcbiAgICAgICAgICAgICAgICB9XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbcC5jbGFzc05hbWUuc2xpY2UoNCldID0gd2lkZ2V0SGVscGVyLmNyZWF0ZURpdihwKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8v55uR5ZCs5LqL5Lu2XHJcbiAgICBldmVudExpc3RlbmVyICgpIHtcclxuICAgICAgICBpZighdGhpcy5zY2VuZUN1cnJlbnRUaW1lIHx8ICF0aGlzLnNjZW5lTXVsdGlwbGllciB8fCAhdGhpcy5zY2VuZVN0YXJ0VGltZSB8fCAhdGhpcy5zY2VuZVN0b3BUaW1lKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZnBzRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNlc2l1bS1wZXJmb3JtYW5jZURpc3BsYXktZnBzJyk7XHJcbiAgICAgICAgdGhpcy5naXMuYWRkQ2xvY2tFdmVudChmdW5jdGlvbiB0aWNrKHQpe1xyXG4gICAgICAgICAgICB0aGlzLnRpY2sgPSB0aWNrO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lQ3VycmVudFRpbWUuaW5uZXJUZXh0ID0gd2lkZ2V0SGVscGVyLmdldFN0cmluZ0RhdGVGcm9tTm9ybWFsRGF0ZShDZXNpdW0uSnVsaWFuRGF0ZS50b0RhdGUodC5jdXJyZW50VGltZSApKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZU11bHRpcGxpZXIuaW5uZXJUZXh0ID0gdC5tdWx0aXBsaWVyICYmICB0Lm11bHRpcGxpZXIgKyAneCcgfHwgJyc7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVTdGFydFRpbWUuaW5uZXJUZXh0ID0gd2lkZ2V0SGVscGVyLmdldFN0cmluZ0RhdGVGcm9tTm9ybWFsRGF0ZShDZXNpdW0uSnVsaWFuRGF0ZS50b0RhdGUodC5zdGFydFRpbWUpKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZVN0b3BUaW1lLmlubmVyVGV4dCA9IHdpZGdldEhlbHBlci5nZXRTdHJpbmdEYXRlRnJvbU5vcm1hbERhdGUoQ2VzaXVtLkp1bGlhbkRhdGUudG9EYXRlKHQuc3RvcFRpbWUpKTtcclxuICAgICAgICAgICAgZnBzRG9tID0gZnBzRG9tIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jZXNpdW0tcGVyZm9ybWFuY2VEaXNwbGF5LWZwcycpO1xyXG4gICAgICAgICAgICBpZihmcHNEb20pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5naXMuZnBzID0gTnVtYmVyLnBhcnNlSW50KGZwc0RvbS5pbm5lclRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICAvL+enu+mZpOebkeWQrOS6i+S7tlxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lciAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGljayAmJiB0aGlzLmdpcy5yZW1vdmVDbG9ja0V2ZW50KHRoaXMudGljaywgdGhpcyk7XHJcbiAgICB9XHJcbiAgICAvL+aYr+WQpuaYvuekulxyXG4gICAgZW5hYmxlKGlzU2hvdyl7XHJcbiAgICAgICAgaXNTaG93ID0gQm9vbGVhbihpc1Nob3cpO1xyXG4gICAgICAgIGlmKGlzU2hvdylcclxuICAgICAgICAgICAgdGhpcy5kb20uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBOzs7OztBQUFBO0FBQ0E7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBVkE7QUFBQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUhBO0FBSkE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUlBOzs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/plugin/clockView.js\n");

/***/ })

}]);