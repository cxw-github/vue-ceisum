(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{191:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(i(86)),n=r(i(1)),l=r(i(2)),a=r(i(3));function r(e){return e&&e.__esModule?e:{default:e}}var u=window.Cesium,c=function(){function e(t){(0,n.default)(this,e),this.gis=t,this.sceneCurrentTime=null,this.sceneMultiplier=null,this.sceneStartTime=null,this.sceneStopTime=null,this.tick=null,this.dom=null}return(0,l.default)(e,[{key:"init",value:function(){var e=this.gis.pluginManage.addPlugin({id:"ClockView",title:"场景时钟",className:"gis-clockView",type:"timeCtrl",proto:this});return this.dom=e.dom,this.loadViewClock(e.dom),this.eventListener(),this}},{key:"loadViewClock",value:function(e){for(var t=[{title:"场景时间",parent:e,className:"clearFix"},{title:"场景当前时间",listClassName:"gis-sceneCurrentTime",text:"2017-12-22 08:00:00",parent:e},{title:"速率",listClassName:"gis-sceneMultiplier",text:"1x",parent:e}],i=0;i<t.length;i++){var s=t[i];if(s.listClassName)this[s.listClassName.slice(4)]=a.default.createList(s);else for(var n=a.default.createList(s),l=[{title:"场景开始时间",className:"gis-sceneStartTime",parent:n},{title:"场景结束时间",className:"gis-sceneStopTime",parent:n}],r=0;r<l.length;r++){var u=l[r];this[u.className.slice(4)]=a.default.createDiv(u)}}return this}},{key:"eventListener",value:function(){if(!(this.sceneCurrentTime&&this.sceneMultiplier&&this.sceneStartTime&&this.sceneStopTime))return this.removeEventListener();var e=document.querySelector(".cesium-performanceDisplay-fps");this.gis.addClockEvent(function t(i){this.tick=t,this.sceneCurrentTime.innerText=a.default.getStringDateFromNormalDate(u.JulianDate.toDate(i.currentTime)),this.sceneMultiplier.innerText=i.multiplier&&i.multiplier+"x"||"",this.sceneStartTime.innerText=a.default.getStringDateFromNormalDate(u.JulianDate.toDate(i.startTime)),this.sceneStopTime.innerText=a.default.getStringDateFromNormalDate(u.JulianDate.toDate(i.stopTime)),(e=e||document.querySelector(".cesium-performanceDisplay-fps"))&&(this.gis.fps=(0,s.default)(e.innerText))},this)}},{key:"removeEventListener",value:function(){return this.tick&&this.gis.removeClockEvent(this.tick,this)}},{key:"enable",value:function(e){e=Boolean(e),this.dom.style.display=e?"block":"none"}}]),e}();t.default=c}}]);