(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["drawManage0~sample0"],{

/***/ "./src/js/geometricPatternCallback.js":
/*!********************************************!*\
  !*** ./src/js/geometricPatternCallback.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ \"./node_modules/babel-runtime/helpers/classCallCheck.js\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ \"./node_modules/babel-runtime/helpers/createClass.js\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*实时绘制回调*/\nvar Cesium = window.Cesium;\n\nvar _class = function () {\n    function _class() {\n        (0, _classCallCheck3.default)(this, _class);\n\n        // this.gis = gis;\n        this.defaultColorValue = function (a, b) {\n            if (a !== undefined) return Cesium.Color.fromCssColorString(a);\n            return Cesium.Color.fromCssColorString(b);\n        };\n        this.defaultValue = function (a, b) {\n            if (a !== undefined) return a;\n            return b;\n        };\n    }\n\n    /*init () {\r\n        this.viewer = this.gis.viewer;\r\n        this.scene = this.gis.scene;\r\n    }*/\n    //实时点\n\n\n    (0, _createClass3.default)(_class, [{\n        key: 'addPointCallback',\n        value: function addPointCallback(positionCallback) {\n            var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n            var desc = arguments[2];\n            var color = arguments[3];\n            var malpha = arguments[4];\n            var LB_show = arguments[5];\n            var image = arguments[6];\n\n            var site = this.gis.config.site.relative;\n            image = image && site + '/images/flag/' + image + '.png' || null;\n            return new Cesium.Entity({\n                name: name,\n                description: desc || '',\n                label: {\n                    text: name,\n                    font: '28px sans-serif',\n                    fillColor: Cesium.Color.DARKTURQUOISE,\n                    horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\n                    scale: 0.6,\n                    show: this.defaultValue(LB_show, true),\n                    translucencyByDistance: new Cesium.NearFarScalar(2.95e5, 2.0, 3.0e5, 2.0),\n                    scaleByDistance: new Cesium.NearFarScalar(3.0e6, 1.1, 5.25e8, 0.1)\n                },\n                billboard: {\n                    image: image,\n                    scale: 0.5,\n                    show: image && true\n                },\n                position: new Cesium.CallbackProperty(positionCallback, false),\n                point: {\n                    pixelSize: 5,\n                    color: this.defaultColorValue(color, \"#F0F\")\n                }\n            });\n        }\n        //实时绘制线目标\n\n    }, {\n        key: 'addLineCallback',\n        value: function addLineCallback(positionCallback, polylineCallback) {\n            var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n            var desc = arguments[3];\n            var color = arguments[4];\n            var LB_show = arguments[5];\n            var image = arguments[6];\n\n            var site = this.gis.config.site.relative;\n            image = image && site + '/images/flag/' + image + '.png' || null;\n            return new Cesium.Entity({\n                name: name,\n                description: desc || '',\n                label: {\n                    text: name,\n                    font: '28px sans-serif',\n                    fillColor: Cesium.Color.DARKTURQUOISE,\n                    horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\n                    scale: 0.6,\n                    show: LB_show && true,\n                    translucencyByDistance: new Cesium.NearFarScalar(2.95e5, 2.0, 3.0e5, 2.0),\n                    scaleByDistance: new Cesium.NearFarScalar(3.0e6, 1.1, 5.25e8, 0.1)\n                },\n                billboard: {\n                    image: image,\n                    scale: 0.5,\n                    show: image && true\n                },\n                position: new Cesium.CallbackProperty(positionCallback, false),\n                polyline: {\n                    positions: new Cesium.CallbackProperty(polylineCallback, false),\n                    width: 2,\n                    material: this.defaultColorValue(color, \"#FFD700\")\n                }\n            });\n        }\n        //实时绘制矩形目标\n\n    }, {\n        key: 'addRectangleCallback',\n        value: function addRectangleCallback(positionCallback, rectangleCallback) {\n            var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n            var desc = arguments[3];\n            var color = arguments[4];\n            var malpha = arguments[5];\n            var LB_show = arguments[6];\n            var image = arguments[7];\n            var fill = arguments[8];\n\n            var site = this.gis.config.site.relative;\n            image = image && site + '/images/flag/' + image + '.png' || null;\n            malpha = malpha ? malpha : malpha === 0 ? malpha : 0.3;\n            fill = this.defaultValue(fill, true);\n            return new Cesium.Entity({\n                name: name,\n                description: desc || '',\n                position: new Cesium.CallbackProperty(positionCallback, false),\n                label: {\n                    text: name,\n                    font: '28px sans-serif',\n                    fillColor: Cesium.Color.DARKTURQUOISE,\n                    horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\n                    scale: 0.6,\n                    show: LB_show && true,\n                    translucencyByDistance: new Cesium.NearFarScalar(2.95e5, 2.0, 3.0e5, 2.0),\n                    scaleByDistance: new Cesium.NearFarScalar(3.0e6, 1.1, 5.25e8, 0.1)\n                },\n                billboard: {\n                    image: image,\n                    scale: 0.5,\n                    show: image && true\n                },\n                rectangle: {\n                    coordinates: new Cesium.CallbackProperty(rectangleCallback, false),\n                    fill: fill,\n                    material: this.defaultColorValue(color, \"#0000FF\").withAlpha(malpha),\n                    height: -20000,\n                    outline: true,\n                    outlineColor: this.defaultColorValue(color, \"#0000FF\").withAlpha(malpha)\n                }\n            });\n        }\n        //实时绘制区域目标\n\n    }, {\n        key: 'addAreaCallback',\n        value: function addAreaCallback(positionCallback, polygonCallback) {\n            var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n            var desc = arguments[3];\n            var color = arguments[4];\n            var malpha = arguments[5];\n            var LB_show = arguments[6];\n            var image = arguments[7];\n\n            var site = this.gis.config.site.relative;\n            image = image && site + '/images/flag/' + image + '.png' || null;\n            malpha = malpha ? malpha : malpha === 0 ? malpha : 0.3;\n            return new Cesium.Entity({\n                name: name,\n                description: desc || '',\n                label: {\n                    text: name,\n                    font: '28px sans-serif',\n                    fillColor: Cesium.Color.DARKTURQUOISE,\n                    horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\n                    scale: 0.6,\n                    show: LB_show && true,\n                    translucencyByDistance: new Cesium.NearFarScalar(2.95e5, 2.0, 3.0e5, 2.0),\n                    scaleByDistance: new Cesium.NearFarScalar(3.0e6, 1.1, 5.25e8, 0.1)\n                },\n                billboard: {\n                    image: image,\n                    scale: 0.5,\n                    show: image && true\n                },\n                position: new Cesium.CallbackProperty(positionCallback, false),\n                polygon: {\n                    hierarchy: new Cesium.CallbackProperty(polygonCallback, false),\n                    fill: true,\n                    material: this.defaultColorValue(color, \"#0000FF\").withAlpha(malpha),\n                    height: 0,\n                    outline: true,\n                    outlineWidth: 2,\n                    outlineColor: this.defaultColorValue(color, \"#0000FF\").withAlpha(malpha)\n                }\n            });\n        }\n        //实时绘制移动目标轨道\n\n    }, {\n        key: 'addMoveTargetPathCallback',\n        value: function addMoveTargetPathCallback(positionCallback, polylineCallback) {\n            var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n            var desc = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n            var LB_show = arguments[4];\n\n            return new Cesium.Entity({\n                name: name,\n                description: desc,\n                label: {\n                    text: name,\n                    font: '28px sans-serif',\n                    fillColor: Cesium.Color.DARKTURQUOISE,\n                    horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\n                    scale: 0.6,\n                    show: LB_show && true,\n                    translucencyByDistance: new Cesium.NearFarScalar(2.95e5, 2.0, 3.0e5, 2.0),\n                    scaleByDistance: new Cesium.NearFarScalar(3.0e6, 1.1, 5.25e8, 0.1)\n                },\n                position: new Cesium.CallbackProperty(positionCallback, false),\n                polyline: {\n                    positions: new Cesium.CallbackProperty(polylineCallback, false),\n                    width: 2,\n                    material: new Cesium.PolylineOutlineMaterialProperty({\n                        color: Cesium.Color.CHARTREUSE,\n                        outlineColor: Cesium.Color.BROWN,\n                        outlineWidth: 2,\n                        width: 2\n                    })\n                }\n            });\n        }\n    }]);\n    return _class;\n}();\n\nexports.default = _class;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvZ2VvbWV0cmljUGF0dGVybkNhbGxiYWNrLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9nZW9tZXRyaWNQYXR0ZXJuQ2FsbGJhY2suanM/YTI0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKuWunuaXtue7mOWItuWbnuiwgyovXHJcbmNvbnN0IENlc2l1bSA9IHdpbmRvdy5DZXNpdW07XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzICB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyB0aGlzLmdpcyA9IGdpcztcclxuICAgICAgICB0aGlzLmRlZmF1bHRDb2xvclZhbHVlID0gZnVuY3Rpb24gKGEsYikge1xyXG4gICAgICAgICAgICBpZihhICE9PSB1bmRlZmluZWQpIHJldHVybiBDZXNpdW0uQ29sb3IuZnJvbUNzc0NvbG9yU3RyaW5nKGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gQ2VzaXVtLkNvbG9yLmZyb21Dc3NDb2xvclN0cmluZyhiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gZnVuY3Rpb24gKGEsYikge1xyXG4gICAgICAgICAgICBpZiAoYSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gYTtcclxuICAgICAgICAgICAgcmV0dXJuIGI7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKmluaXQgKCkge1xyXG4gICAgICAgIHRoaXMudmlld2VyID0gdGhpcy5naXMudmlld2VyO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLmdpcy5zY2VuZTtcclxuICAgIH0qL1xyXG4gICAgLy/lrp7ml7bngrlcclxuICAgIGFkZFBvaW50Q2FsbGJhY2sgKHBvc2l0aW9uQ2FsbGJhY2ssbmFtZT0nJyxkZXNjLGNvbG9yLG1hbHBoYSxMQl9zaG93LGltYWdlKSB7XHJcbiAgICAgICAgY29uc3Qgc2l0ZSA9IHRoaXMuZ2lzLmNvbmZpZy5zaXRlLnJlbGF0aXZlO1xyXG4gICAgICAgIGltYWdlID0gaW1hZ2UgJiYgYCR7c2l0ZX0vaW1hZ2VzL2ZsYWcvJHtpbWFnZX0ucG5nYCB8fCBudWxsO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2VzaXVtLkVudGl0eSh7XHJcbiAgICAgICAgICAgIG5hbWU6bmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gOiBkZXNjIHx8ICcnLFxyXG4gICAgICAgICAgICBsYWJlbCA6IHtcclxuICAgICAgICAgICAgICAgIHRleHQ6bmFtZSxcclxuICAgICAgICAgICAgICAgIGZvbnQ6JzI4cHggc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6Q2VzaXVtLkNvbG9yLkRBUktUVVJRVU9JU0UsXHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOkNlc2l1bS5Ib3Jpem9udGFsT3JpZ2luLkxFRlQsXHJcbiAgICAgICAgICAgICAgICBzY2FsZTowLjYsXHJcbiAgICAgICAgICAgICAgICBzaG93OnRoaXMuZGVmYXVsdFZhbHVlKExCX3Nob3csdHJ1ZSksXHJcbiAgICAgICAgICAgICAgICB0cmFuc2x1Y2VuY3lCeURpc3RhbmNlOm5ldyBDZXNpdW0uTmVhckZhclNjYWxhcigyLjk1ZTUsIDIuMCwgMy4wZTUsIDIuMCksXHJcbiAgICAgICAgICAgICAgICBzY2FsZUJ5RGlzdGFuY2U6bmV3IENlc2l1bS5OZWFyRmFyU2NhbGFyKDMuMGU2LCAxLjEsIDUuMjVlOCwgMC4xKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiaWxsYm9hcmQgOiB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZTppbWFnZSxcclxuICAgICAgICAgICAgICAgIHNjYWxlOjAuNSxcclxuICAgICAgICAgICAgICAgIHNob3c6IGltYWdlICYmIHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcG9zaXRpb24gOiBuZXcgQ2VzaXVtLkNhbGxiYWNrUHJvcGVydHkocG9zaXRpb25DYWxsYmFjaywgZmFsc2UpLFxyXG4gICAgICAgICAgICBwb2ludCA6IHtcclxuICAgICAgICAgICAgICAgIHBpeGVsU2l6ZSA6IDUsXHJcbiAgICAgICAgICAgICAgICBjb2xvciA6IHRoaXMuZGVmYXVsdENvbG9yVmFsdWUoY29sb3IsXCIjRjBGXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8v5a6e5pe257uY5Yi257q/55uu5qCHXHJcbiAgICBhZGRMaW5lQ2FsbGJhY2sgKHBvc2l0aW9uQ2FsbGJhY2sscG9seWxpbmVDYWxsYmFjayxuYW1lPScnLGRlc2MsY29sb3IsTEJfc2hvdyxpbWFnZSkge1xyXG4gICAgICAgIGNvbnN0IHNpdGUgPSB0aGlzLmdpcy5jb25maWcuc2l0ZS5yZWxhdGl2ZTtcclxuICAgICAgICBpbWFnZSA9IGltYWdlICYmIGAke3NpdGV9L2ltYWdlcy9mbGFnLyR7aW1hZ2V9LnBuZ2AgfHwgbnVsbDtcclxuICAgICAgICByZXR1cm4gbmV3IENlc2l1bS5FbnRpdHkoe1xyXG4gICAgICAgICAgICBuYW1lIDogbmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gOiBkZXNjIHx8ICcnLFxyXG4gICAgICAgICAgICBsYWJlbCA6IHtcclxuICAgICAgICAgICAgICAgIHRleHQ6bmFtZSxcclxuICAgICAgICAgICAgICAgIGZvbnQ6JzI4cHggc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6Q2VzaXVtLkNvbG9yLkRBUktUVVJRVU9JU0UsXHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOkNlc2l1bS5Ib3Jpem9udGFsT3JpZ2luLkxFRlQsXHJcbiAgICAgICAgICAgICAgICBzY2FsZTowLjYsXHJcbiAgICAgICAgICAgICAgICBzaG93OkxCX3Nob3cgJiYgdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRyYW5zbHVjZW5jeUJ5RGlzdGFuY2U6bmV3IENlc2l1bS5OZWFyRmFyU2NhbGFyKDIuOTVlNSwgMi4wLCAzLjBlNSwgMi4wKSxcclxuICAgICAgICAgICAgICAgIHNjYWxlQnlEaXN0YW5jZTpuZXcgQ2VzaXVtLk5lYXJGYXJTY2FsYXIoMy4wZTYsIDEuMSwgNS4yNWU4LCAwLjEpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJpbGxib2FyZCA6IHtcclxuICAgICAgICAgICAgICAgIGltYWdlOmltYWdlLFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6MC41LFxyXG4gICAgICAgICAgICAgICAgc2hvdzogaW1hZ2UgJiYgdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwb3NpdGlvbiA6IG5ldyBDZXNpdW0uQ2FsbGJhY2tQcm9wZXJ0eShwb3NpdGlvbkNhbGxiYWNrLCBmYWxzZSksXHJcbiAgICAgICAgICAgIHBvbHlsaW5lIDoge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb25zOiBuZXcgQ2VzaXVtLkNhbGxiYWNrUHJvcGVydHkocG9seWxpbmVDYWxsYmFjaywgZmFsc2UpLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDIsXHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5kZWZhdWx0Q29sb3JWYWx1ZShjb2xvcixcIiNGRkQ3MDBcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy/lrp7ml7bnu5jliLbnn6nlvaLnm67moIdcclxuICAgIGFkZFJlY3RhbmdsZUNhbGxiYWNrIChwb3NpdGlvbkNhbGxiYWNrLHJlY3RhbmdsZUNhbGxiYWNrLG5hbWU9JycsZGVzYyxjb2xvcixtYWxwaGEsTEJfc2hvdyxpbWFnZSxmaWxsKSB7XHJcbiAgICAgICAgY29uc3Qgc2l0ZSA9IHRoaXMuZ2lzLmNvbmZpZy5zaXRlLnJlbGF0aXZlO1xyXG4gICAgICAgIGltYWdlID0gaW1hZ2UgJiYgYCR7c2l0ZX0vaW1hZ2VzL2ZsYWcvJHtpbWFnZX0ucG5nYCB8fCBudWxsO1xyXG4gICAgICAgIG1hbHBoYSA9IG1hbHBoYSA/IG1hbHBoYSA6IG1hbHBoYSA9PT0gMCA/IG1hbHBoYSA6IDAuMztcclxuICAgICAgICBmaWxsID0gdGhpcy5kZWZhdWx0VmFsdWUoZmlsbCx0cnVlKTtcclxuICAgICAgICByZXR1cm4gbmV3IENlc2l1bS5FbnRpdHkoe1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzYyB8fCAnJyxcclxuICAgICAgICAgICAgcG9zaXRpb246bmV3IENlc2l1bS5DYWxsYmFja1Byb3BlcnR5KHBvc2l0aW9uQ2FsbGJhY2ssIGZhbHNlKSxcclxuICAgICAgICAgICAgbGFiZWw6e1xyXG4gICAgICAgICAgICAgICAgdGV4dDpuYW1lLFxyXG4gICAgICAgICAgICAgICAgZm9udDonMjhweCBzYW5zLXNlcmlmJyxcclxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjpDZXNpdW0uQ29sb3IuREFSS1RVUlFVT0lTRSxcclxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPcmlnaW46Q2VzaXVtLkhvcml6b250YWxPcmlnaW4uTEVGVCxcclxuICAgICAgICAgICAgICAgIHNjYWxlOjAuNixcclxuICAgICAgICAgICAgICAgIHNob3c6TEJfc2hvdyAmJiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNsdWNlbmN5QnlEaXN0YW5jZTpuZXcgQ2VzaXVtLk5lYXJGYXJTY2FsYXIoMi45NWU1LCAyLjAsIDMuMGU1LCAyLjApLFxyXG4gICAgICAgICAgICAgICAgc2NhbGVCeURpc3RhbmNlOm5ldyBDZXNpdW0uTmVhckZhclNjYWxhcigzLjBlNiwgMS4xLCA1LjI1ZTgsIDAuMSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYmlsbGJvYXJkOntcclxuICAgICAgICAgICAgICAgIGltYWdlOmltYWdlLFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6MC41LFxyXG4gICAgICAgICAgICAgICAgc2hvdzppbWFnZSAmJiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlY3RhbmdsZToge1xyXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6bmV3IENlc2l1bS5DYWxsYmFja1Byb3BlcnR5KHJlY3RhbmdsZUNhbGxiYWNrLCBmYWxzZSksXHJcbiAgICAgICAgICAgICAgICBmaWxsOmZpbGwsXHJcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5kZWZhdWx0Q29sb3JWYWx1ZShjb2xvcixcIiMwMDAwRkZcIikud2l0aEFscGhhKG1hbHBoYSksXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IC0yMDAwMCxcclxuICAgICAgICAgICAgICAgIG91dGxpbmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IHRoaXMuZGVmYXVsdENvbG9yVmFsdWUoY29sb3IsXCIjMDAwMEZGXCIpLndpdGhBbHBoYShtYWxwaGEpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8v5a6e5pe257uY5Yi25Yy65Z+f55uu5qCHXHJcbiAgICBhZGRBcmVhQ2FsbGJhY2sgKHBvc2l0aW9uQ2FsbGJhY2sscG9seWdvbkNhbGxiYWNrLG5hbWU9JycsZGVzYyxjb2xvcixtYWxwaGEsTEJfc2hvdyxpbWFnZSkge1xyXG4gICAgICAgIGNvbnN0IHNpdGUgPSB0aGlzLmdpcy5jb25maWcuc2l0ZS5yZWxhdGl2ZTtcclxuICAgICAgICBpbWFnZSA9IGltYWdlICYmIGAke3NpdGV9L2ltYWdlcy9mbGFnLyR7aW1hZ2V9LnBuZ2AgfHwgbnVsbDtcclxuICAgICAgICBtYWxwaGEgPSBtYWxwaGEgPyBtYWxwaGEgOiBtYWxwaGEgPT09IDAgPyBtYWxwaGEgOiAwLjM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDZXNpdW0uRW50aXR5KHtcclxuICAgICAgICAgICAgbmFtZSA6IG5hbWUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uIDogZGVzYyB8fCAnJyxcclxuICAgICAgICAgICAgbGFiZWwgOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Om5hbWUsXHJcbiAgICAgICAgICAgICAgICBmb250OicyOHB4IHNhbnMtc2VyaWYnLFxyXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOkNlc2l1bS5Db2xvci5EQVJLVFVSUVVPSVNFLFxyXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9yaWdpbjpDZXNpdW0uSG9yaXpvbnRhbE9yaWdpbi5MRUZULFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6MC42LFxyXG4gICAgICAgICAgICAgICAgc2hvdzpMQl9zaG93ICYmIHRydWUsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2x1Y2VuY3lCeURpc3RhbmNlOm5ldyBDZXNpdW0uTmVhckZhclNjYWxhcigyLjk1ZTUsIDIuMCwgMy4wZTUsIDIuMCksXHJcbiAgICAgICAgICAgICAgICBzY2FsZUJ5RGlzdGFuY2U6bmV3IENlc2l1bS5OZWFyRmFyU2NhbGFyKDMuMGU2LCAxLjEsIDUuMjVlOCwgMC4xKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiaWxsYm9hcmQgOiB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZTppbWFnZSxcclxuICAgICAgICAgICAgICAgIHNjYWxlOjAuNSxcclxuICAgICAgICAgICAgICAgIHNob3c6aW1hZ2UgJiYgdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwb3NpdGlvbiA6IG5ldyBDZXNpdW0uQ2FsbGJhY2tQcm9wZXJ0eShwb3NpdGlvbkNhbGxiYWNrLCBmYWxzZSksXHJcbiAgICAgICAgICAgIHBvbHlnb24gOiB7XHJcbiAgICAgICAgICAgICAgICBoaWVyYXJjaHk6IG5ldyBDZXNpdW0uQ2FsbGJhY2tQcm9wZXJ0eShwb2x5Z29uQ2FsbGJhY2ssIGZhbHNlKSxcclxuICAgICAgICAgICAgICAgIGZpbGw6dHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsIDogdGhpcy5kZWZhdWx0Q29sb3JWYWx1ZShjb2xvcixcIiMwMDAwRkZcIikud2l0aEFscGhhKG1hbHBoYSksXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICBvdXRsaW5lOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb3V0bGluZVdpZHRoOjIsXHJcbiAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6IHRoaXMuZGVmYXVsdENvbG9yVmFsdWUoY29sb3IsXCIjMDAwMEZGXCIpLndpdGhBbHBoYShtYWxwaGEpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8v5a6e5pe257uY5Yi256e75Yqo55uu5qCH6L2o6YGTXHJcbiAgICBhZGRNb3ZlVGFyZ2V0UGF0aENhbGxiYWNrIChwb3NpdGlvbkNhbGxiYWNrLHBvbHlsaW5lQ2FsbGJhY2ssbmFtZT0nJyxkZXNjPScnLExCX3Nob3cpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENlc2l1bS5FbnRpdHkoe1xyXG4gICAgICAgICAgICBuYW1lIDogbmFtZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24gOiBkZXNjLFxyXG4gICAgICAgICAgICBsYWJlbCA6IHtcclxuICAgICAgICAgICAgICAgIHRleHQ6bmFtZSxcclxuICAgICAgICAgICAgICAgIGZvbnQ6JzI4cHggc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6Q2VzaXVtLkNvbG9yLkRBUktUVVJRVU9JU0UsXHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT3JpZ2luOkNlc2l1bS5Ib3Jpem9udGFsT3JpZ2luLkxFRlQsXHJcbiAgICAgICAgICAgICAgICBzY2FsZTowLjYsXHJcbiAgICAgICAgICAgICAgICBzaG93OkxCX3Nob3cgJiYgdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRyYW5zbHVjZW5jeUJ5RGlzdGFuY2U6bmV3IENlc2l1bS5OZWFyRmFyU2NhbGFyKDIuOTVlNSwgMi4wLCAzLjBlNSwgMi4wKSxcclxuICAgICAgICAgICAgICAgIHNjYWxlQnlEaXN0YW5jZTpuZXcgQ2VzaXVtLk5lYXJGYXJTY2FsYXIoMy4wZTYsIDEuMSwgNS4yNWU4LCAwLjEpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBvc2l0aW9uIDogbmV3IENlc2l1bS5DYWxsYmFja1Byb3BlcnR5KHBvc2l0aW9uQ2FsbGJhY2ssIGZhbHNlKSxcclxuICAgICAgICAgICAgcG9seWxpbmUgOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnM6IG5ldyBDZXNpdW0uQ2FsbGJhY2tQcm9wZXJ0eShwb2x5bGluZUNhbGxiYWNrLCBmYWxzZSksXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMixcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOm5ldyBDZXNpdW0uUG9seWxpbmVPdXRsaW5lTWF0ZXJpYWxQcm9wZXJ0eSh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENlc2l1bS5Db2xvci5DSEFSVFJFVVNFLFxyXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmVDb2xvcjogQ2VzaXVtLkNvbG9yLkJST1dOLFxyXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmVXaWR0aDogMixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTs7O0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBbkJBO0FBd0JBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBbkJBO0FBeUJBO0FBQ0E7QUFDQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFuQkE7QUE0QkE7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFuQkE7QUE2QkE7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUhBO0FBZEE7QUF5QkE7Ozs7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/geometricPatternCallback.js\n");

/***/ }),

/***/ "./src/js/plugin/draw.js":
/*!*******************************!*\
  !*** ./src/js/plugin/draw.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _values = __webpack_require__(/*! babel-runtime/core-js/object/values */ \"./node_modules/babel-runtime/core-js/object/values.js\");\n\nvar _values2 = _interopRequireDefault(_values);\n\nvar _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ \"./node_modules/babel-runtime/core-js/object/get-prototype-of.js\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ \"./node_modules/babel-runtime/helpers/classCallCheck.js\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ \"./node_modules/babel-runtime/helpers/createClass.js\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ \"./node_modules/babel-runtime/helpers/possibleConstructorReturn.js\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ \"./node_modules/babel-runtime/helpers/inherits.js\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _widgetHelper = __webpack_require__(/*! ../widgetHelper */ \"./src/js/widgetHelper.js\");\n\nvar _widgetHelper2 = _interopRequireDefault(_widgetHelper);\n\nvar _geometricPatternCallback = __webpack_require__(/*! ../geometricPatternCallback */ \"./src/js/geometricPatternCallback.js\");\n\nvar _geometricPatternCallback2 = _interopRequireDefault(_geometricPatternCallback);\n\nvar _postMessage = __webpack_require__(/*! ../postMessage */ \"./src/js/postMessage.js\");\n\nvar _postMessage2 = _interopRequireDefault(_postMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Cesium = window.Cesium; /*绘制模块*/\n\nvar handlers = {\n    gis: null,\n    pointHandle: null, //点绘制事件对象\n    lineHandle: null, //线绘制事件对象\n    rectangleHandler: null, //矩形绘制事件对象\n    polygonHandler: null, //多边形绘制事件对象\n    moveHandler: null, //移动目标绘制事件对象\n    selectRectHandler: null, //矩形选区事件对象\n    selectAreaHandler: null, //多边形选区事件对象\n    instantHandler: null, //实时绘制事件对象\n    reset: function reset() {\n        this.pointHandle = this.pointHandle && this.pointHandle.destroy();\n        this.lineHandle = this.lineHandle && this.lineHandle.destroy();\n        this.rectangleHandler = this.rectangleHandler && this.rectangleHandler.destroy();\n        this.polygonSampleHandler = this.polygonSampleHandler && this.polygonSampleHandler.destroy();\n        this.polygonHandler = this.polygonHandler && this.polygonHandler.destroy();\n        this.moveHandler = this.moveHandler && this.moveHandler.destroy();\n        this.selectRectHandler = this.selectRectHandler && this.selectRectHandler.destroy();\n        this.selectAreaHandler = this.selectAreaHandler && this.selectAreaHandler.destroy();\n        this.instantHandler = this.instantHandler && this.instantHandler.destroy();\n    },\n    destroy: function destroy(point, line, rect, polygon, poly, move, selectRect, selectArea, instant) {\n        var handle = new Cesium.ScreenSpaceEventHandler(this.gis.scene.canvas);\n        this.pointHandle = point && this.pointHandle && this.pointHandle.destroy() || handle;\n        this.lineHandle = line && this.lineHandle && this.lineHandle.destroy() || handle;\n        this.rectangleHandler = rect && this.rectangleHandler && this.rectangleHandler.destroy() || handle;\n        this.polygonHandler = polygon && this.polygonHandler && this.polygonHandler.destroy() || handle;\n        this.polygonSampleHandler = poly && this.polygonSampleHandler && this.polygonSampleHandler.destroy() || handle;\n        this.moveHandler = move && this.moveHandler && this.moveHandler.destroy() || handle;\n        this.selectRectHandler = selectRect && this.selectRectHandler && this.selectRectHandler.destroy() || handle;\n        this.selectAreaHandler = selectArea && this.selectAreaHandler && this.selectAreaHandler.destroy() || handle;\n        this.instantHandler = instant && this.instantHandler && this.instantHandler.destroy() || handle;\n    }\n};\n\nvar _class = function (_GeometricPatternCall) {\n    (0, _inherits3.default)(_class, _GeometricPatternCall);\n\n    function _class(gis) {\n        (0, _classCallCheck3.default)(this, _class);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (_class.__proto__ || (0, _getPrototypeOf2.default)(_class)).call(this));\n\n        _this.gis = gis;\n        handlers.gis = gis;\n        _this.graphics = _this.gis.graphics;\n        _this.viewer = null;\n        _this.scene = null;\n        _this.camera = null;\n        _this.clock = null;\n        _this.multi_point = [];\n        _this.multi_cartesian = [];\n        _this.instant = {\n            line: null,\n            rectangle: null,\n            polygon: null,\n            move: null\n        };\n        _this.colletion = new Cesium.EntityCollection();\n        return _this;\n    }\n\n    (0, _createClass3.default)(_class, [{\n        key: 'initial',\n        value: function initial() {\n            this.viewer = this.gis.viewer;\n            this.scene = this.gis.scene;\n            this.camera = this.gis.camera;\n            this.clock = this.gis.clock;\n        }\n    }, {\n        key: 'getName',\n        value: function getName(name) {\n            var i = 1;\n            this.colletion.values.forEach(function (e) {\n                return e.name.indexOf(name) !== -1 && i++;\n            });\n            return name + '_' + i;\n        }\n        //阻止冒泡\n\n    }, {\n        key: 'stopPropagation',\n        value: function stopPropagation(e) {\n            this.completeStatus();\n            e = window.event || e;\n            if (!e) return;\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            } else {\n                e.cancelBubble = true;\n            }\n        }\n        //初始完成状态\n\n    }, {\n        key: 'completeStatus',\n        value: function completeStatus() {\n            var _this2 = this;\n\n            this.gis.isToolWight = true;\n            (0, _values2.default)(this.instant).forEach(function (e) {\n                return _this2.viewer.entities.remove(e);\n            });\n            this.multi_point = [];\n            this.multi_cartesian = [];\n        }\n        //点\n\n    }, {\n        key: 'drawPoint',\n        value: function drawPoint(e) {\n            this.stopPropagation(e);\n            //开启点绘制\n            handlers.destroy(false, true, true, true, true, true, true, true, true, true);\n            handlers.pointHandle.setInputAction(function (click) {\n                //鼠标左键点击\n                var cartesian = this.camera.pickEllipsoid(click.position, this.scene.globe.ellipsoid);\n                if (cartesian) {\n                    var desc = _widgetHelper2.default.convertToDegrees(Cesium.Cartographic.fromCartesian(cartesian));\n                    var point = this.gis.addPoint(Cesium.createGuid(), cartesian, this.getName(\"点目标\"), { '坐标信息': desc }, \"#15FF5B\", 1, '', true, 2.0);\n                    this.colletion.add(point);\n                    //传递事件\n                    this.gis.event.fireEvent(\"onDraw\", new _postMessage2.default(point));\n                }\n            }.bind(this), Cesium.ScreenSpaceEventType.LEFT_CLICK);\n        }\n        //线\n\n    }, {\n        key: 'drawLine',\n        value: function drawLine(e) {\n            this.stopPropagation(e);\n            var color = '#7FFFD4';\n            var isBegin = false,\n                //是否开始绘制\n            index = 0,\n                //记录点个数\n            once = true; //只执行一次\n            //开启线绘制\n            handlers.destroy(true, false, true, true, true, true, true, true, true, true);\n            handlers.lineHandle.setInputAction(function (click) {\n                var _this3 = this;\n\n                //鼠标左键点击\n                var cartesian = this.camera.pickEllipsoid(click.position, this.scene.globe.ellipsoid);\n                if (!cartesian) return;\n                isBegin = true;\n                index++;\n                this.multi_cartesian.push(cartesian);\n                if (once) {\n                    //绘制实时线目标\n                    this.instant.line = this.addLineCallback(function () {\n                        return _widgetHelper2.default.getCenterCartesian(_this3.multi_cartesian);\n                    }, function () {\n                        return _this3.multi_cartesian;\n                    }, this.getName(\"线目标\"), null, color, true, false);\n                    this.viewer.entities.add(this.instant.line);\n                    once = false;\n                }\n            }.bind(this), Cesium.ScreenSpaceEventType.LEFT_CLICK);\n            handlers.lineHandle.setInputAction(function (move) {\n                //鼠标移动\n                if (!isBegin) return;\n                var cartesian = this.camera.pickEllipsoid(move.endPosition, this.scene.globe.ellipsoid);\n                if (cartesian) {\n                    var l = this.multi_cartesian.length;\n                    //剔除多余的移动点\n                    l > index && this.multi_cartesian.splice(index, l);\n                    //只放最后一个移动点\n                    this.multi_cartesian.push(cartesian);\n                }\n            }.bind(this), Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n            handlers.lineHandle.setInputAction(function () {\n                //鼠标右键点击\n                var l = this.multi_cartesian.length;\n                //剔除多余的移动点\n                l > index && this.multi_cartesian.splice(index, l);\n                //无点坐标或一个点坐标无法构成线，则返回\n                if (this.multi_cartesian.length > 1) {\n                    var desc = '';\n                    this.multi_cartesian.forEach(function (c) {\n                        return desc += _widgetHelper2.default.convertToDegrees(Cesium.Cartographic.fromCartesian(c)) + '</br>';\n                    });\n                    //绘制线目标\n                    var line = this.gis.addLine(Cesium.createGuid(), this.multi_cartesian, this.getName(\"线目标\"), { \"坐标信息\": desc }, color, 0.6, '', true, 2.0);\n                    this.colletion.add(line);\n                    //传递事件\n                    this.gis.event.fireEvent(\"onDraw\", new _postMessage2.default(line));\n                }\n                this.instant.line && this.viewer.entities.remove(this.instant.line);\n                isBegin = false;\n                once = true;\n                index = 0;\n                delete this.instant.line;\n                this.multi_cartesian = [];\n            }.bind(this), Cesium.ScreenSpaceEventType.RIGHT_CLICK);\n        }\n        //矩形\n\n    }, {\n        key: 'drawRectangle',\n        value: function drawRectangle(e) {\n            this.stopPropagation(e);\n            var color = '#7FFFD4';\n            var isBegin = false,\n                //是否开始绘制\n            index = 0,\n                //记录点个数\n            once = true; //只执行一次\n            handlers.destroy(true, true, false, true, true, true, true, true, true);\n            handlers.rectangleHandler.setInputAction(function (click) {\n                var _this4 = this;\n\n                //鼠标左键点击\n                var cartesian = this.camera.pickEllipsoid(click.position, this.scene.globe.ellipsoid);\n                if (!cartesian) return;\n                isBegin = true;\n                index++;\n                this.multi_cartesian.push(cartesian);\n                if (once) {\n                    //绘制实时矩形目标\n                    this.instant.rectangle = this.addRectangleCallback(function () {\n                        return _widgetHelper2.default.getCenterCartesian(_this4.multi_cartesian);\n                    }, function () {\n                        return Cesium.Rectangle.fromCartesianArray(_this4.multi_cartesian, Cesium.Ellipsoid.WGS84);\n                    }, this.getName(\"矩形区域目标\"), null, color, 0.3, true);\n                    this.viewer.entities.add(this.instant.rectangle);\n                    once = false;\n                }\n                if (index === 2) {\n                    //满足两个点直接绘制矩形\n                    this.instant.rectangle && this.viewer.entities.remove(this.instant.rectangle);\n                    var desc = '';\n                    //绘制矩形目标\n                    var rect = this.gis.addRectangle(Cesium.createGuid(), this.multi_cartesian, this.getName(\"矩形区域目标\"), desc.toString(), true, color, 0.3, '', true, 2.0);\n                    _widgetHelper2.default.getRect4PeakCartographicByRectangle(rect).forEach(function (p) {\n                        p.longitude = Cesium.Math.toRadians(p.longitude);\n                        p.latitude = Cesium.Math.toRadians(p.latitude);\n                        desc += _widgetHelper2.default.convertToDegrees(p) + '</br>';\n                    });\n                    rect.description = { \"坐标信息\": desc };\n                    this.colletion.add(rect);\n                    //传递事件\n                    this.gis.event.fireEvent(\"onDraw\", new _postMessage2.default(rect));\n                    isBegin = false;\n                    once = true;\n                    index = 0;\n                    delete this.instant.rectangle;\n                    this.multi_cartesian = [];\n                }\n            }.bind(this), Cesium.ScreenSpaceEventType.LEFT_CLICK);\n            handlers.rectangleHandler.setInputAction(function (move) {\n                //鼠标移动\n                if (!isBegin) return;\n                var cartesian = this.viewer.camera.pickEllipsoid(move.endPosition, this.scene.globe.ellipsoid);\n                if (cartesian) {\n                    var l = this.multi_cartesian.length;\n                    //剔除多余的移动点\n                    l > index && this.multi_cartesian.splice(index, l);\n                    //添加最后一个移动点\n                    this.multi_cartesian.push(cartesian);\n                }\n            }.bind(this), Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n        }\n        //多边形\n\n    }, {\n        key: 'drawPolygon',\n        value: function drawPolygon(e) {\n            this.stopPropagation(e);\n            var color = '#7FFFD4';\n            var isBegin = false,\n                //是否开始绘制\n            index = 0,\n                //记录点个数\n            once = true; //只执行一次\n            handlers.destroy(true, true, true, false, true, true, true, true, true);\n            handlers.polygonHandler.setInputAction(function (click) {\n                var _this5 = this;\n\n                //鼠标左键点击\n                var cartesian = this.viewer.camera.pickEllipsoid(click.position, this.scene.globe.ellipsoid);\n                if (!cartesian) return;\n                isBegin = true;\n                index++;\n                if (index === 1) {\n                    //绘制实时线目标\n                    this.instant.line = this.addLineCallback(function () {\n                        return _widgetHelper2.default.getCenterCartesian(_this5.multi_cartesian);\n                    }, function () {\n                        return _this5.multi_cartesian;\n                    }, this.getName('多边形区域目标'), null, color, true, null);\n                    this.viewer.entities.add(this.instant.line);\n                } else if (once) {\n                    //绘制实时区域目标\n                    this.instant.polygon = this.addAreaCallback(function () {\n                        return _widgetHelper2.default.getCenterCartesian(_this5.multi_cartesian);\n                    }, function () {\n                        return _this5.multi_cartesian;\n                    }, this.getName(\"多边形区域目标\"), null, color, 0.3, true, null);\n                    this.viewer.entities.add(this.instant.polygon);\n                    once = false;\n                }\n                this.multi_cartesian.push(cartesian);\n            }.bind(this), Cesium.ScreenSpaceEventType.LEFT_CLICK);\n            handlers.polygonHandler.setInputAction(function (move) {\n                //鼠标移动\n                if (!isBegin) return;\n                var cartesian = this.viewer.camera.pickEllipsoid(move.endPosition, this.scene.globe.ellipsoid);\n                if (cartesian) {\n                    var l = this.multi_cartesian.length;\n                    //剔除多余的移动点\n                    l > index && this.multi_cartesian.splice(index, l);\n                    this.multi_cartesian.push(cartesian);\n                    if (index === 2 && this.instant.line) {\n                        //两个点以上可构成区域删除实时线目标\n                        this.viewer.entities.remove(this.instant.line);\n                    }\n                }\n            }.bind(this), Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n            handlers.polygonHandler.setInputAction(function (click) {\n                //鼠标右键点击\n                var l = this.multi_cartesian.length;\n                //剔除多余的点\n                l > index && this.multi_cartesian.splice(index, l);\n                if (this.multi_cartesian.length > 2) {\n                    var desc = \"\";\n                    this.multi_cartesian.forEach(function (c) {\n                        return desc += _widgetHelper2.default.convertToDegrees(Cesium.Cartographic.fromCartesian(c)) + '</br>';\n                    });\n                    //绘制区域目标\n                    var polygon = this.gis.addPolygon(Cesium.createGuid(), this.multi_cartesian, this.getName(\"多边形区域目标\"), { \"坐标信息\": desc }, true, \"#7FFFD4\", 0.3, '', true, 2.0);\n                    this.colletion.add(polygon);\n                    //传递事件\n                    this.gis.event.fireEvent(\"onDraw\", new _postMessage2.default(polygon));\n                }\n                //移除实时线目标\n                this.instant.line && this.viewer.entities.remove(this.instant.line);\n                //移除实时区域目标\n                this.instant.polygon && this.viewer.entities.remove(this.instant.polygon);\n                isBegin = false;\n                index = 0;\n                once = true;\n                delete this.instant.line;\n                delete this.instant.polygon;\n                this.multi_cartesian = [];\n            }.bind(this), Cesium.ScreenSpaceEventType.RIGHT_CLICK);\n        }\n        //移动\n\n    }, {\n        key: 'drawMoveTarget',\n        value: function drawMoveTarget(e) {\n            this.stopPropagation(e);\n            var isBegin = false,\n                //是否开始绘制\n            index = 0,\n                //记录点个数\n            once = true; //只执行一次\n            handlers.destroy(true, true, true, true, true, false, true, true, true);\n            handlers.moveHandler.setInputAction(function (click) {\n                var _this6 = this;\n\n                //鼠标左键点击\n                var cartesian = this.viewer.camera.pickEllipsoid(click.position, this.scene.globe.ellipsoid);\n                if (!cartesian) return;\n                isBegin = true;\n                index++;\n                this.multi_cartesian.push(cartesian);\n                if (once) {\n                    //绘制实时移动目标\n                    this.instant.move = this.addMoveTargetPathCallback(function () {\n                        return _widgetHelper2.default.getCenterCartesian(_this6.multi_cartesian);\n                    }, function () {\n                        return _this6.multi_cartesian;\n                    }, this.getName('移动目标'), null, true);\n                    this.viewer.entities.add(this.instant.move);\n                    once = false;\n                }\n            }.bind(this), Cesium.ScreenSpaceEventType.LEFT_CLICK);\n            handlers.moveHandler.setInputAction(function (move) {\n                //鼠标移动\n                if (!isBegin) return;\n                var cartesian = this.viewer.camera.pickEllipsoid(move.endPosition, this.scene.globe.ellipsoid);\n                if (cartesian) {\n                    var l = this.multi_cartesian.length;\n                    //剔除多余的移动点\n                    l > index && this.multi_cartesian.splice(index, l);\n                    //添加最后一个移动点\n                    this.multi_cartesian.push(cartesian);\n                }\n            }.bind(this), Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n            handlers.moveHandler.setInputAction(function (click) {\n                //鼠标右键点击\n                //无点坐标或一个点坐标无法构成线，则返回\n                var l = this.multi_cartesian.length;\n                //剔除多余的点\n                l > index && this.multi_cartesian.splice(index, l);\n                if (this.multi_cartesian.length > 1) {\n                    //根据点与点之间计算距离和时间\n                    var times = [],\n                        current = this.viewer.clock.currentTime;\n                    var t = Cesium.JulianDate.toDate(current).getTime();\n                    var desc = '';\n                    var preCartographic = void 0;\n                    this.multi_cartesian.forEach(function (cartesian, i) {\n                        var cartographic = Cesium.Cartographic.fromCartesian(cartesian);\n                        if (preCartographic) {\n                            var geodesic = new Cesium.EllipsoidGeodesic();\n                            geodesic.setEndPoints(preCartographic, cartographic);\n                            //计算距离\n                            var distance = Math.round(geodesic.surfaceDistance),\n                                speed = 55; //默认速度55km/h\n                            //计算时间\n                            t += distance * 3600 / speed;\n                        }\n                        // const newDate = new Date(t + i * 3.6e6);\n                        //描述\n                        var newDate = new Date(t);\n                        var dataStr = _widgetHelper2.default.getStringDateFromNormalDate(newDate);\n                        desc += dataStr + ',' + _widgetHelper2.default.convertToDegrees(cartographic) + '</br>';\n                        times.push(Cesium.JulianDate.fromDate(newDate));\n                        t += 60 * 60 * 1000;\n                        preCartographic = cartographic;\n                    }, this);\n                    // const  aaaa = this.gis.graphics.getMovingSpeedAndTriangleFromTime(this.multi_cartesian,times,55);\n                    //绘制移动目标\n                    var move = this.gis.graduallyMoving.createMovingTarget(Cesium.createGuid(), this.multi_cartesian, times, this.getName(\"移动目标\"), { \"坐标信息\": desc }, true);\n                    this.colletion.add(move);\n                    this.gis.event.fireEvent(\"onDraw\", new _postMessage2.default(move)); //传递事件\n                }\n                this.viewer.entities.remove(this.instant.move);\n                isBegin = false;\n                once = true;\n                index = 0;\n                delete this.instant.move;\n                this.multi_cartesian = [];\n            }.bind(this), Cesium.ScreenSpaceEventType.RIGHT_CLICK);\n        }\n        //多边选区\n\n    }, {\n        key: 'selectionArea',\n        value: function selectionArea(e) {\n            this.stopPropagation(e);\n            handlers.destroy(true, true, true, true, true, true, true, false, true);\n            var isBegin = false; //是否开始绘制\n            handlers.selectAreaHandler.setInputAction(function (down) {\n                //鼠标左键按下\n                isBegin = true;\n                this.gis.disableDefaultEventHandlers(false, false, false, false, false);\n            }.bind(this), Cesium.ScreenSpaceEventType.LEFT_DOWN);\n            handlers.selectAreaHandler.setInputAction(function (move) {\n                //鼠标移动\n                var cartesian = this.viewer.camera.pickEllipsoid(move.endPosition, this.scene.globe.ellipsoid);\n                if (isBegin && cartesian) {\n                    Cesium.Ellipsoid.WGS84.scaleToGeocentricSurface(cartesian, cartesian);\n                    //实时绘制点\n                    var point = this.gis.addPoint(Cesium.createGuid(), cartesian, \"选区点\", \"这是选区点\", \"#06b6ef\", 1, '', false, 2.0);\n                    point.type = undefined;\n                    this.multi_point.push(point);\n                    this.multi_cartesian.push(cartesian);\n                }\n            }.bind(this), Cesium.ScreenSpaceEventType.MOUSE_MOVE);\n            handlers.selectAreaHandler.setInputAction(function (up) {\n                var _this7 = this;\n\n                //鼠标左键松开\n                isBegin = false;\n                if (this.multi_cartesian.length > 2) {\n                    //绘制选区\n                    var polygon = this.gis.addPolygon(Cesium.createGuid(), this.multi_cartesian, this.getName(\"多边形选区\"), \"这是多边形选择区域.\", false, \"yellow\", 0.8, '', true, 2.0);\n                    polygon.type = \"SEL_AREA\";\n                    polygon.label.show = false;\n                    polygon.billboard.show = false;\n                    this.colletion.add(polygon);\n                    this.multi_point.forEach(function (e) {\n                        return _this7.gis.removeOverlayById(e.id);\n                    }, this);\n                    //计算选区内的目标并通过事件返回目标信息\n                    this.gis.event.fireEvent(\"onMultiSelected\", this.graphics.getOverlayFromPolygon(polygon));\n                }\n                this.gis.disableDefaultEventHandlers(true, true, true, true, true);\n                this.multi_point = [];\n                this.multi_cartesian = [];\n            }.bind(this), Cesium.ScreenSpaceEventType.LEFT_UP);\n        }\n        //移除所有\n\n    }, {\n        key: 'removeAll',\n        value: function removeAll(e) {\n            var _this8 = this;\n\n            this.stopPropagation(e);\n            this.colletion.values.forEach(function (v) {\n                return _this8.gis.removeOverlayById(v.id);\n            });\n            this.colletion.removeAll();\n        }\n        //是否显示坐标信息\n\n    }, {\n        key: 'showPosition',\n        value: function showPosition(e) {\n            this.stopDrawing(e);\n            this.stopPropagation(e);\n            this.gis.showPosition = !this.gis.showPosition;\n        }\n        //停止绘制\n\n    }, {\n        key: 'stopDrawing',\n        value: function stopDrawing(e) {\n            this.stopPropagation(e);\n            handlers.reset();\n            this.gis.isToolWight = false;\n        }\n    }]);\n    return _class;\n}(_geometricPatternCallback2.default);\n\nexports.default = _class;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcGx1Z2luL2RyYXcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3BsdWdpbi9kcmF3LmpzPzJmZTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyrnu5jliLbmqKHlnZcqL1xyXG5pbXBvcnQgd2lkZ2V0SGVscGVyIGZyb20gJy4uL3dpZGdldEhlbHBlcic7XHJcbmltcG9ydCBHZW9tZXRyaWNQYXR0ZXJuQ2FsbGJhY2sgZnJvbSAnLi4vZ2VvbWV0cmljUGF0dGVybkNhbGxiYWNrJztcclxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi4vcG9zdE1lc3NhZ2UnO1xyXG5jb25zdCBDZXNpdW0gPSB3aW5kb3cuQ2VzaXVtO1xyXG5jb25zdCBoYW5kbGVycyA9IHtcclxuICAgIGdpczpudWxsLFxyXG4gICAgcG9pbnRIYW5kbGU6bnVsbCwvL+eCuee7mOWItuS6i+S7tuWvueixoVxyXG4gICAgbGluZUhhbmRsZTpudWxsLC8v57q/57uY5Yi25LqL5Lu25a+56LGhXHJcbiAgICByZWN0YW5nbGVIYW5kbGVyOm51bGwsLy/nn6nlvaLnu5jliLbkuovku7blr7nosaFcclxuICAgIHBvbHlnb25IYW5kbGVyOm51bGwsLy/lpJrovrnlvaLnu5jliLbkuovku7blr7nosaFcclxuICAgIG1vdmVIYW5kbGVyOm51bGwsLy/np7vliqjnm67moIfnu5jliLbkuovku7blr7nosaFcclxuICAgIHNlbGVjdFJlY3RIYW5kbGVyOm51bGwsLy/nn6nlvaLpgInljLrkuovku7blr7nosaFcclxuICAgIHNlbGVjdEFyZWFIYW5kbGVyOm51bGwsLy/lpJrovrnlvaLpgInljLrkuovku7blr7nosaFcclxuICAgIGluc3RhbnRIYW5kbGVyOm51bGwsLy/lrp7ml7bnu5jliLbkuovku7blr7nosaFcclxuICAgIHJlc2V0ICgpIHtcclxuICAgICAgICB0aGlzLnBvaW50SGFuZGxlID0gdGhpcy5wb2ludEhhbmRsZSAmJiB0aGlzLnBvaW50SGFuZGxlLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmxpbmVIYW5kbGUgPSB0aGlzLmxpbmVIYW5kbGUgJiYgdGhpcy5saW5lSGFuZGxlLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnJlY3RhbmdsZUhhbmRsZXIgPSB0aGlzLnJlY3RhbmdsZUhhbmRsZXIgJiYgdGhpcy5yZWN0YW5nbGVIYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnBvbHlnb25TYW1wbGVIYW5kbGVyID0gdGhpcy5wb2x5Z29uU2FtcGxlSGFuZGxlciAmJiB0aGlzLnBvbHlnb25TYW1wbGVIYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnBvbHlnb25IYW5kbGVyID0gdGhpcy5wb2x5Z29uSGFuZGxlciAmJiB0aGlzLnBvbHlnb25IYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLm1vdmVIYW5kbGVyID0gdGhpcy5tb3ZlSGFuZGxlciAmJiB0aGlzLm1vdmVIYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnNlbGVjdFJlY3RIYW5kbGVyID0gdGhpcy5zZWxlY3RSZWN0SGFuZGxlciAmJiB0aGlzLnNlbGVjdFJlY3RIYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLnNlbGVjdEFyZWFIYW5kbGVyID0gdGhpcy5zZWxlY3RBcmVhSGFuZGxlciAmJiB0aGlzLnNlbGVjdEFyZWFIYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmluc3RhbnRIYW5kbGVyID0gdGhpcy5pbnN0YW50SGFuZGxlciAmJiB0aGlzLmluc3RhbnRIYW5kbGVyLmRlc3Ryb3koKTtcclxuICAgIH0sXHJcbiAgICBkZXN0cm95IChwb2ludCxsaW5lLHJlY3QscG9seWdvbixwb2x5LG1vdmUsc2VsZWN0UmVjdCxzZWxlY3RBcmVhLGluc3RhbnQpIHtcclxuICAgICAgICBjb25zdCBoYW5kbGUgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHRoaXMuZ2lzLnNjZW5lLmNhbnZhcyk7XHJcbiAgICAgICAgdGhpcy5wb2ludEhhbmRsZSA9IHBvaW50ICYmIHRoaXMucG9pbnRIYW5kbGUgJiYgdGhpcy5wb2ludEhhbmRsZS5kZXN0cm95KCkgfHwgaGFuZGxlO1xyXG4gICAgICAgIHRoaXMubGluZUhhbmRsZSA9IGxpbmUgJiYgdGhpcy5saW5lSGFuZGxlICYmIHRoaXMubGluZUhhbmRsZS5kZXN0cm95KCkgfHwgaGFuZGxlO1xyXG4gICAgICAgIHRoaXMucmVjdGFuZ2xlSGFuZGxlciA9IHJlY3QgJiYgdGhpcy5yZWN0YW5nbGVIYW5kbGVyICYmIHRoaXMucmVjdGFuZ2xlSGFuZGxlci5kZXN0cm95KCkgfHwgaGFuZGxlO1xyXG4gICAgICAgIHRoaXMucG9seWdvbkhhbmRsZXIgPSBwb2x5Z29uICYmIHRoaXMucG9seWdvbkhhbmRsZXIgJiYgdGhpcy5wb2x5Z29uSGFuZGxlci5kZXN0cm95KCkgfHwgaGFuZGxlO1xyXG4gICAgICAgIHRoaXMucG9seWdvblNhbXBsZUhhbmRsZXIgPSBwb2x5ICYmIHRoaXMucG9seWdvblNhbXBsZUhhbmRsZXIgJiYgdGhpcy5wb2x5Z29uU2FtcGxlSGFuZGxlci5kZXN0cm95KCkgfHwgaGFuZGxlO1xyXG4gICAgICAgIHRoaXMubW92ZUhhbmRsZXIgPSBtb3ZlICYmIHRoaXMubW92ZUhhbmRsZXIgJiYgdGhpcy5tb3ZlSGFuZGxlci5kZXN0cm95KCkgfHwgaGFuZGxlO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0UmVjdEhhbmRsZXIgPSBzZWxlY3RSZWN0ICYmIHRoaXMuc2VsZWN0UmVjdEhhbmRsZXIgJiYgdGhpcy5zZWxlY3RSZWN0SGFuZGxlci5kZXN0cm95KCkgfHwgaGFuZGxlO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0QXJlYUhhbmRsZXIgPSBzZWxlY3RBcmVhICYmIHRoaXMuc2VsZWN0QXJlYUhhbmRsZXIgJiYgdGhpcy5zZWxlY3RBcmVhSGFuZGxlci5kZXN0cm95KCkgfHwgaGFuZGxlO1xyXG4gICAgICAgIHRoaXMuaW5zdGFudEhhbmRsZXIgPSBpbnN0YW50ICYmIHRoaXMuaW5zdGFudEhhbmRsZXIgJiYgdGhpcy5pbnN0YW50SGFuZGxlci5kZXN0cm95KCkgfHwgaGFuZGxlO1xyXG4gICAgfVxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEdlb21ldHJpY1BhdHRlcm5DYWxsYmFjayB7XHJcbiAgICBjb25zdHJ1Y3RvcihnaXMpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZ2lzID0gZ2lzO1xyXG4gICAgICAgIGhhbmRsZXJzLmdpcyA9IGdpcztcclxuICAgICAgICB0aGlzLmdyYXBoaWNzID0gdGhpcy5naXMuZ3JhcGhpY3M7XHJcbiAgICAgICAgdGhpcy52aWV3ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNsb2NrID0gbnVsbDtcclxuICAgICAgICB0aGlzLm11bHRpX3BvaW50ID0gW107XHJcbiAgICAgICAgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4gPSBbXTtcclxuICAgICAgICB0aGlzLmluc3RhbnQgPSB7XHJcbiAgICAgICAgICAgIGxpbmU6bnVsbCxcclxuICAgICAgICAgICAgcmVjdGFuZ2xlOm51bGwsXHJcbiAgICAgICAgICAgIHBvbHlnb246bnVsbCxcclxuICAgICAgICAgICAgbW92ZTpudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbGxldGlvbiA9IG5ldyBDZXNpdW0uRW50aXR5Q29sbGVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRpYWwgKCkge1xyXG4gICAgICAgIHRoaXMudmlld2VyID0gdGhpcy5naXMudmlld2VyO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLmdpcy5zY2VuZTtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuZ2lzLmNhbWVyYTtcclxuICAgICAgICB0aGlzLmNsb2NrID0gdGhpcy5naXMuY2xvY2s7XHJcblxyXG4gICAgfVxyXG4gICAgZ2V0TmFtZSAobmFtZSkge1xyXG4gICAgICAgIGxldCBpID0gMTtcclxuICAgICAgICB0aGlzLmNvbGxldGlvbi52YWx1ZXMuZm9yRWFjaChlID0+ZS5uYW1lLmluZGV4T2YobmFtZSkgIT09IC0xICYmIGkrKyk7XHJcbiAgICAgICAgcmV0dXJuIGAke25hbWV9XyR7aX1gO1xyXG4gICAgfVxyXG4gICAgLy/pmLvmraLlhpLms6FcclxuICAgIHN0b3BQcm9wYWdhdGlvbiAoZSkge1xyXG4gICAgICAgIHRoaXMuY29tcGxldGVTdGF0dXMoKTtcclxuICAgICAgICBlID0gd2luZG93LmV2ZW50IHx8IGU7XHJcbiAgICAgICAgaWYoIWUpIHJldHVybjtcclxuICAgICAgICBpZihlLnN0b3BQcm9wYWdhdGlvbil7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlPXRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/liJ3lp4vlrozmiJDnirbmgIFcclxuICAgIGNvbXBsZXRlU3RhdHVzICgpIHtcclxuICAgICAgICB0aGlzLmdpcy5pc1Rvb2xXaWdodCA9IHRydWU7XHJcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmluc3RhbnQpLmZvckVhY2goZSA9PiB0aGlzLnZpZXdlci5lbnRpdGllcy5yZW1vdmUoZSkpO1xyXG4gICAgICAgIHRoaXMubXVsdGlfcG9pbnQgPSBbXTtcclxuICAgICAgICB0aGlzLm11bHRpX2NhcnRlc2lhbiA9IFtdO1xyXG4gICAgfVxyXG4gICAgLy/ngrlcclxuICAgIGRyYXdQb2ludCAoZSkge1xyXG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKGUpO1xyXG4gICAgICAgIC8v5byA5ZCv54K557uY5Yi2XHJcbiAgICAgICAgaGFuZGxlcnMuZGVzdHJveShmYWxzZSx0cnVlLHRydWUsdHJ1ZSx0cnVlLHRydWUsdHJ1ZSx0cnVlLHRydWUsdHJ1ZSk7XHJcbiAgICAgICAgaGFuZGxlcnMucG9pbnRIYW5kbGUuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24oY2xpY2spIHsvL+m8oOagh+W3pumUrueCueWHu1xyXG4gICAgICAgICAgICBjb25zdCBjYXJ0ZXNpYW4gPSB0aGlzLmNhbWVyYS5waWNrRWxsaXBzb2lkKGNsaWNrLnBvc2l0aW9uLCB0aGlzLnNjZW5lLmdsb2JlLmVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgIGlmIChjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2MgPSB3aWRnZXRIZWxwZXIuY29udmVydFRvRGVncmVlcyhDZXNpdW0uQ2FydG9ncmFwaGljLmZyb21DYXJ0ZXNpYW4oY2FydGVzaWFuKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuZ2lzLmFkZFBvaW50KENlc2l1bS5jcmVhdGVHdWlkKCksY2FydGVzaWFuLHRoaXMuZ2V0TmFtZShcIueCueebruagh1wiKSx7J+WdkOagh+S/oeaBryc6ZGVzY30sXCIjMTVGRjVCXCIsMSwnJyx0cnVlLDIuMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxldGlvbi5hZGQocG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgLy/kvKDpgJLkuovku7ZcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2lzLmV2ZW50LmZpcmVFdmVudChcIm9uRHJhd1wiLG5ldyBNZXNzYWdlKHBvaW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcyksIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuICAgIH1cclxuICAgIC8v57q/XHJcbiAgICBkcmF3TGluZSAoZSkge1xyXG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKGUpO1xyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gJyM3RkZGRDQnO1xyXG4gICAgICAgIGxldCBpc0JlZ2luID0gZmFsc2UsLy/mmK/lkKblvIDlp4vnu5jliLZcclxuICAgICAgICAgICAgaW5kZXggPSAwLCAvL+iusOW9leeCueS4quaVsFxyXG4gICAgICAgICAgICBvbmNlID0gdHJ1ZTsvL+WPquaJp+ihjOS4gOasoVxyXG4gICAgICAgIC8v5byA5ZCv57q/57uY5Yi2XHJcbiAgICAgICAgaGFuZGxlcnMuZGVzdHJveSh0cnVlLGZhbHNlLHRydWUsdHJ1ZSx0cnVlLHRydWUsdHJ1ZSx0cnVlLHRydWUsdHJ1ZSk7XHJcbiAgICAgICAgaGFuZGxlcnMubGluZUhhbmRsZS5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbihjbGljaykgey8v6byg5qCH5bem6ZSu54K55Ye7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcnRlc2lhbiA9IHRoaXMuY2FtZXJhLnBpY2tFbGxpcHNvaWQoY2xpY2sucG9zaXRpb24sIHRoaXMuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgaWYoIWNhcnRlc2lhbikgcmV0dXJuO1xyXG4gICAgICAgICAgICBpc0JlZ2luID0gdHJ1ZTtcclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4ucHVzaChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICBpZihvbmNlKXtcclxuICAgICAgICAgICAgICAgIC8v57uY5Yi25a6e5pe257q/55uu5qCHXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbnQubGluZSA9IHRoaXMuYWRkTGluZUNhbGxiYWNrKCgpID0+IHdpZGdldEhlbHBlci5nZXRDZW50ZXJDYXJ0ZXNpYW4odGhpcy5tdWx0aV9jYXJ0ZXNpYW4pLCgpID0+IHRoaXMubXVsdGlfY2FydGVzaWFuLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TmFtZShcIue6v+ebruagh1wiKSxudWxsLGNvbG9yLHRydWUsZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIuZW50aXRpZXMuYWRkKHRoaXMuaW5zdGFudC5saW5lKTtcclxuICAgICAgICAgICAgICAgIG9uY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xyXG4gICAgICAgIGhhbmRsZXJzLmxpbmVIYW5kbGUuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmUpIHsvL+m8oOagh+enu+WKqFxyXG4gICAgICAgICAgICBpZighaXNCZWdpbikgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBjYXJ0ZXNpYW4gPSB0aGlzLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmUuZW5kUG9zaXRpb24sIHRoaXMuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgaWYoY2FydGVzaWFuKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGwgPSB0aGlzLm11bHRpX2NhcnRlc2lhbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAvL+WJlOmZpOWkmuS9meeahOenu+WKqOeCuVxyXG4gICAgICAgICAgICAgICAgbCA+IGluZGV4ICYmIHRoaXMubXVsdGlfY2FydGVzaWFuLnNwbGljZShpbmRleCwgbCk7XHJcbiAgICAgICAgICAgICAgICAvL+WPquaUvuacgOWQjuS4gOS4quenu+WKqOeCuVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4ucHVzaChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcclxuICAgICAgICBoYW5kbGVycy5saW5lSGFuZGxlLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uKClcclxuICAgICAgICB7Ly/pvKDmoIflj7PplK7ngrnlh7tcclxuICAgICAgICAgICAgY29uc3QgbCA9IHRoaXMubXVsdGlfY2FydGVzaWFuLmxlbmd0aDtcclxuICAgICAgICAgICAgLy/liZTpmaTlpJrkvZnnmoTnp7vliqjngrlcclxuICAgICAgICAgICAgbCA+IGluZGV4ICYmIHRoaXMubXVsdGlfY2FydGVzaWFuLnNwbGljZShpbmRleCxsKTtcclxuICAgICAgICAgICAgLy/ml6DngrnlnZDmoIfmiJbkuIDkuKrngrnlnZDmoIfml6Dms5XmnoTmiJDnur/vvIzliJnov5Tlm55cclxuICAgICAgICAgICAgaWYodGhpcy5tdWx0aV9jYXJ0ZXNpYW4ubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlc2MgPSAnJztcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlfY2FydGVzaWFuLmZvckVhY2goYyA9PiBkZXNjICs9IHdpZGdldEhlbHBlci5jb252ZXJ0VG9EZWdyZWVzKENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbUNhcnRlc2lhbihjKSkgKyAnPC9icj4nKTtcclxuICAgICAgICAgICAgICAgIC8v57uY5Yi257q/55uu5qCHXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gdGhpcy5naXMuYWRkTGluZShDZXNpdW0uY3JlYXRlR3VpZCgpLHRoaXMubXVsdGlfY2FydGVzaWFuLHRoaXMuZ2V0TmFtZShcIue6v+ebruagh1wiKSx7XCLlnZDmoIfkv6Hmga9cIjpkZXNjfSxjb2xvciwwLjYsJycsdHJ1ZSwyLjApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZXRpb24uYWRkKGxpbmUpO1xyXG4gICAgICAgICAgICAgICAgLy/kvKDpgJLkuovku7ZcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2lzLmV2ZW50LmZpcmVFdmVudChcIm9uRHJhd1wiLG5ldyBNZXNzYWdlKGxpbmUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmluc3RhbnQubGluZSAmJiB0aGlzLnZpZXdlci5lbnRpdGllcy5yZW1vdmUodGhpcy5pbnN0YW50LmxpbmUpO1xyXG4gICAgICAgICAgICBpc0JlZ2luID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG9uY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbnQubGluZTtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4gPSBbXTtcclxuICAgICAgICB9LmJpbmQodGhpcyksQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLlJJR0hUX0NMSUNLKTtcclxuICAgIH1cclxuICAgIC8v55+p5b2iXHJcbiAgICBkcmF3UmVjdGFuZ2xlIChlKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oZSk7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSAnIzdGRkZENCc7XHJcbiAgICAgICAgbGV0IGlzQmVnaW4gPSBmYWxzZSwvL+aYr+WQpuW8gOWni+e7mOWItlxyXG4gICAgICAgICAgICBpbmRleCA9IDAsIC8v6K6w5b2V54K55Liq5pWwXHJcbiAgICAgICAgICAgIG9uY2UgPSB0cnVlOy8v5Y+q5omn6KGM5LiA5qyhXHJcbiAgICAgICAgaGFuZGxlcnMuZGVzdHJveSh0cnVlLHRydWUsZmFsc2UsdHJ1ZSx0cnVlLHRydWUsdHJ1ZSx0cnVlLHRydWUpO1xyXG4gICAgICAgIGhhbmRsZXJzLnJlY3RhbmdsZUhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24oY2xpY2spIHsvL+m8oOagh+W3pumUrueCueWHu1xyXG4gICAgICAgICAgICBjb25zdCBjYXJ0ZXNpYW4gPSB0aGlzLmNhbWVyYS5waWNrRWxsaXBzb2lkKGNsaWNrLnBvc2l0aW9uLCB0aGlzLnNjZW5lLmdsb2JlLmVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgIGlmKCFjYXJ0ZXNpYW4pIHJldHVybjtcclxuICAgICAgICAgICAgaXNCZWdpbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgIHRoaXMubXVsdGlfY2FydGVzaWFuLnB1c2goY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgaWYob25jZSl7XHJcbiAgICAgICAgICAgICAgICAvL+e7mOWItuWunuaXtuefqeW9ouebruagh1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW50LnJlY3RhbmdsZSA9IHRoaXMuYWRkUmVjdGFuZ2xlQ2FsbGJhY2soKCkgPT4gd2lkZ2V0SGVscGVyLmdldENlbnRlckNhcnRlc2lhbih0aGlzLm11bHRpX2NhcnRlc2lhbiksKCkgPT4gQ2VzaXVtLlJlY3RhbmdsZS5mcm9tQ2FydGVzaWFuQXJyYXkodGhpcy5tdWx0aV9jYXJ0ZXNpYW4sQ2VzaXVtLkVsbGlwc29pZC5XR1M4NCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXROYW1lKFwi55+p5b2i5Yy65Z+f55uu5qCHXCIpLG51bGwsY29sb3IsMC4zLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIuZW50aXRpZXMuYWRkKHRoaXMuaW5zdGFudC5yZWN0YW5nbGUpO1xyXG4gICAgICAgICAgICAgICAgb25jZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGluZGV4ID09PSAyKXsvL+a7oei2s+S4pOS4queCueebtOaOpee7mOWItuefqeW9olxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW50LnJlY3RhbmdsZSAmJiB0aGlzLnZpZXdlci5lbnRpdGllcy5yZW1vdmUodGhpcy5pbnN0YW50LnJlY3RhbmdsZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVzYz0nJztcclxuICAgICAgICAgICAgICAgIC8v57uY5Yi255+p5b2i55uu5qCHXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5naXMuYWRkUmVjdGFuZ2xlKENlc2l1bS5jcmVhdGVHdWlkKCksdGhpcy5tdWx0aV9jYXJ0ZXNpYW4sdGhpcy5nZXROYW1lKFwi55+p5b2i5Yy65Z+f55uu5qCHXCIpLGRlc2MudG9TdHJpbmcoKSx0cnVlLGNvbG9yLDAuMywnJyx0cnVlLDIuMCk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRIZWxwZXIuZ2V0UmVjdDRQZWFrQ2FydG9ncmFwaGljQnlSZWN0YW5nbGUocmVjdCkuZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBwLmxvbmdpdHVkZSA9IENlc2l1bS5NYXRoLnRvUmFkaWFucyhwLmxvbmdpdHVkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5sYXRpdHVkZSA9IENlc2l1bS5NYXRoLnRvUmFkaWFucyhwLmxhdGl0dWRlKTtcclxuICAgICAgICAgICAgICAgICAgICBkZXNjICs9IHdpZGdldEhlbHBlci5jb252ZXJ0VG9EZWdyZWVzKHApICsgJzwvYnI+JztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmVjdC5kZXNjcmlwdGlvbj17XCLlnZDmoIfkv6Hmga9cIjpkZXNjfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGV0aW9uLmFkZChyZWN0KTtcclxuICAgICAgICAgICAgICAgIC8v5Lyg6YCS5LqL5Lu2XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdpcy5ldmVudC5maXJlRXZlbnQoXCJvbkRyYXdcIixuZXcgTWVzc2FnZShyZWN0KSk7XHJcbiAgICAgICAgICAgICAgICBpc0JlZ2luID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBvbmNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbnQucmVjdGFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xyXG4gICAgICAgIGhhbmRsZXJzLnJlY3RhbmdsZUhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKG1vdmUpIHsvL+m8oOagh+enu+WKqFxyXG4gICAgICAgICAgICBpZighaXNCZWdpbikgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBjYXJ0ZXNpYW4gPSB0aGlzLnZpZXdlci5jYW1lcmEucGlja0VsbGlwc29pZChtb3ZlLmVuZFBvc2l0aW9uLCB0aGlzLnNjZW5lLmdsb2JlLmVsbGlwc29pZCk7XHJcbiAgICAgICAgICAgIGlmKGNhcnRlc2lhbil7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsID0gdGhpcy5tdWx0aV9jYXJ0ZXNpYW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgLy/liZTpmaTlpJrkvZnnmoTnp7vliqjngrlcclxuICAgICAgICAgICAgICAgIGwgPiBpbmRleCAmJiB0aGlzLm11bHRpX2NhcnRlc2lhbi5zcGxpY2UoaW5kZXgsbCk7XHJcbiAgICAgICAgICAgICAgICAvL+a3u+WKoOacgOWQjuS4gOS4quenu+WKqOeCuVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4ucHVzaChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5NT1VTRV9NT1ZFKTtcclxuICAgIH1cclxuICAgIC8v5aSa6L655b2iXHJcbiAgICBkcmF3UG9seWdvbiAoZSkge1xyXG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKGUpO1xyXG4gICAgICAgIGNvbnN0IGNvbG9yID0gJyM3RkZGRDQnO1xyXG4gICAgICAgIGxldCBpc0JlZ2luID0gZmFsc2UsLy/mmK/lkKblvIDlp4vnu5jliLZcclxuICAgICAgICAgICAgaW5kZXggPSAwLCAvL+iusOW9leeCueS4quaVsFxyXG4gICAgICAgICAgICBvbmNlID0gdHJ1ZTsvL+WPquaJp+ihjOS4gOasoVxyXG4gICAgICAgIGhhbmRsZXJzLmRlc3Ryb3kodHJ1ZSx0cnVlLHRydWUsZmFsc2UsdHJ1ZSx0cnVlLHRydWUsdHJ1ZSx0cnVlKTtcclxuICAgICAgICBoYW5kbGVycy5wb2x5Z29uSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbihjbGljayl7Ly/pvKDmoIflt6bplK7ngrnlh7tcclxuICAgICAgICAgICAgY29uc3QgY2FydGVzaWFuID0gdGhpcy52aWV3ZXIuY2FtZXJhLnBpY2tFbGxpcHNvaWQoY2xpY2sucG9zaXRpb24sIHRoaXMuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgaWYoIWNhcnRlc2lhbikgcmV0dXJuO1xyXG4gICAgICAgICAgICBpc0JlZ2luID0gdHJ1ZTtcclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgaWYoaW5kZXggPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgLy/nu5jliLblrp7ml7bnur/nm67moIdcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFudC5saW5lID0gdGhpcy5hZGRMaW5lQ2FsbGJhY2soKCkgPT4gd2lkZ2V0SGVscGVyLmdldENlbnRlckNhcnRlc2lhbih0aGlzLm11bHRpX2NhcnRlc2lhbiksKCkgPT4gdGhpcy5tdWx0aV9jYXJ0ZXNpYW4sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXROYW1lKCflpJrovrnlvaLljLrln5/nm67moIcnKSxudWxsLGNvbG9yLHRydWUsbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5lbnRpdGllcy5hZGQodGhpcy5pbnN0YW50LmxpbmUpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihvbmNlKXtcclxuICAgICAgICAgICAgICAgIC8v57uY5Yi25a6e5pe25Yy65Z+f55uu5qCHXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbnQucG9seWdvbiA9IHRoaXMuYWRkQXJlYUNhbGxiYWNrKCgpID0+IHdpZGdldEhlbHBlci5nZXRDZW50ZXJDYXJ0ZXNpYW4odGhpcy5tdWx0aV9jYXJ0ZXNpYW4pLCgpID0+IHRoaXMubXVsdGlfY2FydGVzaWFuLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TmFtZShcIuWkmui+ueW9ouWMuuWfn+ebruagh1wiKSxudWxsLGNvbG9yLDAuMyx0cnVlLG51bGwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIuZW50aXRpZXMuYWRkKHRoaXMuaW5zdGFudC5wb2x5Z29uKTtcclxuICAgICAgICAgICAgICAgIG9uY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm11bHRpX2NhcnRlc2lhbi5wdXNoKGNhcnRlc2lhbik7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuICAgICAgICBoYW5kbGVycy5wb2x5Z29uSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAobW92ZSkgey8v6byg5qCH56e75YqoXHJcbiAgICAgICAgICAgIGlmKCFpc0JlZ2luKSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcnRlc2lhbiA9IHRoaXMudmlld2VyLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmUuZW5kUG9zaXRpb24sIHRoaXMuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgaWYoY2FydGVzaWFuKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGwgPSB0aGlzLm11bHRpX2NhcnRlc2lhbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAvL+WJlOmZpOWkmuS9meeahOenu+WKqOeCuVxyXG4gICAgICAgICAgICAgICAgbCA+IGluZGV4ICYmIHRoaXMubXVsdGlfY2FydGVzaWFuLnNwbGljZShpbmRleCxsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlfY2FydGVzaWFuLnB1c2goY2FydGVzaWFuKTtcclxuICAgICAgICAgICAgICAgIGlmKGluZGV4ID09PSAyICYmIHRoaXMuaW5zdGFudC5saW5lKXsvL+S4pOS4queCueS7peS4iuWPr+aehOaIkOWMuuWfn+WIoOmZpOWunuaXtue6v+ebruagh1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLmVudGl0aWVzLnJlbW92ZSh0aGlzLmluc3RhbnQubGluZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcyksQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG4gICAgICAgIGhhbmRsZXJzLnBvbHlnb25IYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uKGNsaWNrKXsvL+m8oOagh+WPs+mUrueCueWHu1xyXG4gICAgICAgICAgICBjb25zdCBsID0gdGhpcy5tdWx0aV9jYXJ0ZXNpYW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAvL+WJlOmZpOWkmuS9meeahOeCuVxyXG4gICAgICAgICAgICBsID4gaW5kZXggJiYgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4uc3BsaWNlKGluZGV4LGwpO1xyXG4gICAgICAgICAgICBpZih0aGlzLm11bHRpX2NhcnRlc2lhbi5sZW5ndGggPiAyKXtcclxuICAgICAgICAgICAgICAgIGxldCBkZXNjID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlfY2FydGVzaWFuLmZvckVhY2goYyA9PiBkZXNjICs9IHdpZGdldEhlbHBlci5jb252ZXJ0VG9EZWdyZWVzKENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbUNhcnRlc2lhbihjKSkrJzwvYnI+Jyk7XHJcbiAgICAgICAgICAgICAgICAvL+e7mOWItuWMuuWfn+ebruagh1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9seWdvbiA9IHRoaXMuZ2lzLmFkZFBvbHlnb24oQ2VzaXVtLmNyZWF0ZUd1aWQoKSx0aGlzLm11bHRpX2NhcnRlc2lhbix0aGlzLmdldE5hbWUoXCLlpJrovrnlvaLljLrln5/nm67moIdcIiksXHJcbiAgICAgICAgICAgICAgICAgICAge1wi5Z2Q5qCH5L+h5oGvXCI6ZGVzY30sdHJ1ZSxcIiM3RkZGRDRcIiwwLjMsJycsdHJ1ZSwyLjApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZXRpb24uYWRkKHBvbHlnb24pO1xyXG4gICAgICAgICAgICAgICAgLy/kvKDpgJLkuovku7ZcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2lzLmV2ZW50LmZpcmVFdmVudChcIm9uRHJhd1wiLG5ldyBNZXNzYWdlKHBvbHlnb24pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+enu+mZpOWunuaXtue6v+ebruagh1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbnQubGluZSAmJiB0aGlzLnZpZXdlci5lbnRpdGllcy5yZW1vdmUodGhpcy5pbnN0YW50LmxpbmUpO1xyXG4gICAgICAgICAgICAvL+enu+mZpOWunuaXtuWMuuWfn+ebruagh1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbnQucG9seWdvbiAmJiB0aGlzLnZpZXdlci5lbnRpdGllcy5yZW1vdmUodGhpcy5pbnN0YW50LnBvbHlnb24pO1xyXG4gICAgICAgICAgICBpc0JlZ2luID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGluZGV4ID0gMDtcclxuICAgICAgICAgICAgb25jZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbnQubGluZTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFudC5wb2x5Z29uO1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpX2NhcnRlc2lhbj1bXTtcclxuICAgICAgICB9LmJpbmQodGhpcyksQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLlJJR0hUX0NMSUNLKTtcclxuICAgIH1cclxuICAgIC8v56e75YqoXHJcbiAgICBkcmF3TW92ZVRhcmdldCAoZSkge1xyXG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKGUpO1xyXG4gICAgICAgIGxldCBpc0JlZ2luID0gZmFsc2UsLy/mmK/lkKblvIDlp4vnu5jliLZcclxuICAgICAgICAgICAgaW5kZXggPSAwLCAvL+iusOW9leeCueS4quaVsFxyXG4gICAgICAgICAgICBvbmNlID0gdHJ1ZTsvL+WPquaJp+ihjOS4gOasoVxyXG4gICAgICAgIGhhbmRsZXJzLmRlc3Ryb3kodHJ1ZSx0cnVlLHRydWUsdHJ1ZSx0cnVlLGZhbHNlLHRydWUsdHJ1ZSx0cnVlKTtcclxuICAgICAgICBoYW5kbGVycy5tb3ZlSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbihjbGljayl7Ly/pvKDmoIflt6bplK7ngrnlh7tcclxuICAgICAgICAgICAgY29uc3QgY2FydGVzaWFuID0gdGhpcy52aWV3ZXIuY2FtZXJhLnBpY2tFbGxpcHNvaWQoY2xpY2sucG9zaXRpb24sIHRoaXMuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgaWYoIWNhcnRlc2lhbikgcmV0dXJuO1xyXG4gICAgICAgICAgICBpc0JlZ2luID0gdHJ1ZTtcclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4ucHVzaChjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICBpZihvbmNlKXtcclxuICAgICAgICAgICAgICAgIC8v57uY5Yi25a6e5pe256e75Yqo55uu5qCHXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbnQubW92ZSA9IHRoaXMuYWRkTW92ZVRhcmdldFBhdGhDYWxsYmFjaygoKSA9PiB3aWRnZXRIZWxwZXIuZ2V0Q2VudGVyQ2FydGVzaWFuKHRoaXMubXVsdGlfY2FydGVzaWFuKSwoKSA9PiB0aGlzLm11bHRpX2NhcnRlc2lhbixcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE5hbWUoJ+enu+WKqOebruaghycpLG51bGwsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5lbnRpdGllcy5hZGQodGhpcy5pbnN0YW50Lm1vdmUpO1xyXG4gICAgICAgICAgICAgICAgb25jZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcclxuICAgICAgICBoYW5kbGVycy5tb3ZlSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAobW92ZSkgey8v6byg5qCH56e75YqoXHJcbiAgICAgICAgICAgIGlmKCFpc0JlZ2luKSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcnRlc2lhbiA9IHRoaXMudmlld2VyLmNhbWVyYS5waWNrRWxsaXBzb2lkKG1vdmUuZW5kUG9zaXRpb24sIHRoaXMuc2NlbmUuZ2xvYmUuZWxsaXBzb2lkKTtcclxuICAgICAgICAgICAgaWYoY2FydGVzaWFuKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGwgPSB0aGlzLm11bHRpX2NhcnRlc2lhbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAvL+WJlOmZpOWkmuS9meeahOenu+WKqOeCuVxyXG4gICAgICAgICAgICAgICAgbCA+IGluZGV4ICYmIHRoaXMubXVsdGlfY2FydGVzaWFuLnNwbGljZShpbmRleCxsKTtcclxuICAgICAgICAgICAgICAgIC8v5re75Yqg5pyA5ZCO5LiA5Liq56e75Yqo54K5XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpX2NhcnRlc2lhbi5wdXNoKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcyksQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG4gICAgICAgIGhhbmRsZXJzLm1vdmVIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uKGNsaWNrKXsvL+m8oOagh+WPs+mUrueCueWHu1xyXG4gICAgICAgICAgICAvL+aXoOeCueWdkOagh+aIluS4gOS4queCueWdkOagh+aXoOazleaehOaIkOe6v++8jOWImei/lOWbnlxyXG4gICAgICAgICAgICBjb25zdCBsID0gdGhpcy5tdWx0aV9jYXJ0ZXNpYW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAvL+WJlOmZpOWkmuS9meeahOeCuVxyXG4gICAgICAgICAgICBsID4gaW5kZXggJiYgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4uc3BsaWNlKGluZGV4LGwpO1xyXG4gICAgICAgICAgICBpZih0aGlzLm11bHRpX2NhcnRlc2lhbi5sZW5ndGggPiAxKSB7Ly/moLnmja7ngrnkuI7ngrnkuYvpl7TorqHnrpfot53nprvlkozml7bpl7RcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzID0gW10sY3VycmVudCA9IHRoaXMudmlld2VyLmNsb2NrLmN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgbGV0IHQgPSBDZXNpdW0uSnVsaWFuRGF0ZS50b0RhdGUoY3VycmVudCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlc2MgPSAnJztcclxuICAgICAgICAgICAgICAgIGxldCBwcmVDYXJ0b2dyYXBoaWM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpX2NhcnRlc2lhbi5mb3JFYWNoKGZ1bmN0aW9uIChjYXJ0ZXNpYW4saSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnRvZ3JhcGhpYyA9IENlc2l1bS5DYXJ0b2dyYXBoaWMuZnJvbUNhcnRlc2lhbihjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHByZUNhcnRvZ3JhcGhpYyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlb2Rlc2ljID0gbmV3IENlc2l1bS5FbGxpcHNvaWRHZW9kZXNpYygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW9kZXNpYy5zZXRFbmRQb2ludHMocHJlQ2FydG9ncmFwaGljLCBjYXJ0b2dyYXBoaWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+iuoeeul+i3neemu1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGgucm91bmQoZ2VvZGVzaWMuc3VyZmFjZURpc3RhbmNlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkID0gNTU7Ly/pu5jorqTpgJ/luqY1NWttL2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/orqHnrpfml7bpl7RcclxuICAgICAgICAgICAgICAgICAgICAgICAgdCArPSBkaXN0YW5jZSAqIDM2MDAgLyBzcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKHQgKyBpICogMy42ZTYpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5o+P6L+wXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFTdHIgPSB3aWRnZXRIZWxwZXIuZ2V0U3RyaW5nRGF0ZUZyb21Ob3JtYWxEYXRlKG5ld0RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2MrPSBkYXRhU3RyICsgJywnICsgd2lkZ2V0SGVscGVyLmNvbnZlcnRUb0RlZ3JlZXMoY2FydG9ncmFwaGljKSArICc8L2JyPic7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXMucHVzaChDZXNpdW0uSnVsaWFuRGF0ZS5mcm9tRGF0ZShuZXdEYXRlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdCArPSA2MCAqIDYwICogMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICBwcmVDYXJ0b2dyYXBoaWMgPSBjYXJ0b2dyYXBoaWM7XHJcbiAgICAgICAgICAgICAgICB9LHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgIGFhYWEgPSB0aGlzLmdpcy5ncmFwaGljcy5nZXRNb3ZpbmdTcGVlZEFuZFRyaWFuZ2xlRnJvbVRpbWUodGhpcy5tdWx0aV9jYXJ0ZXNpYW4sdGltZXMsNTUpO1xyXG4gICAgICAgICAgICAgICAgLy/nu5jliLbnp7vliqjnm67moIdcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1vdmUgPSB0aGlzLmdpcy5ncmFkdWFsbHlNb3ZpbmcuY3JlYXRlTW92aW5nVGFyZ2V0KENlc2l1bS5jcmVhdGVHdWlkKCksdGhpcy5tdWx0aV9jYXJ0ZXNpYW4sdGltZXMsdGhpcy5nZXROYW1lKFwi56e75Yqo55uu5qCHXCIpLHtcIuWdkOagh+S/oeaBr1wiOmRlc2N9LHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZXRpb24uYWRkKG1vdmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5naXMuZXZlbnQuZmlyZUV2ZW50KFwib25EcmF3XCIsbmV3IE1lc3NhZ2UobW92ZSkpOy8v5Lyg6YCS5LqL5Lu2XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy52aWV3ZXIuZW50aXRpZXMucmVtb3ZlKHRoaXMuaW5zdGFudC5tb3ZlKTtcclxuICAgICAgICAgICAgaXNCZWdpbj0gZmFsc2U7XHJcbiAgICAgICAgICAgIG9uY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbnQubW92ZTtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aV9jYXJ0ZXNpYW4gPSBbXTtcclxuICAgICAgICB9LmJpbmQodGhpcyksQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLlJJR0hUX0NMSUNLKTtcclxuICAgIH1cclxuICAgIC8v5aSa6L656YCJ5Yy6XHJcbiAgICBzZWxlY3Rpb25BcmVhIChlKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oZSk7XHJcbiAgICAgICAgaGFuZGxlcnMuZGVzdHJveSh0cnVlLHRydWUsdHJ1ZSx0cnVlLHRydWUsdHJ1ZSx0cnVlLGZhbHNlLHRydWUpO1xyXG4gICAgICAgIGxldCBpc0JlZ2luID0gZmFsc2U7Ly/mmK/lkKblvIDlp4vnu5jliLZcclxuICAgICAgICBoYW5kbGVycy5zZWxlY3RBcmVhSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbihkb3duKXsvL+m8oOagh+W3pumUruaMieS4i1xyXG4gICAgICAgICAgICBpc0JlZ2luID10cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmdpcy5kaXNhYmxlRGVmYXVsdEV2ZW50SGFuZGxlcnMoZmFsc2UsZmFsc2UsZmFsc2UsZmFsc2UsZmFsc2UpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSxDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9ET1dOKTtcclxuICAgICAgICBoYW5kbGVycy5zZWxlY3RBcmVhSGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbihtb3ZlKXsvL+m8oOagh+enu+WKqFxyXG4gICAgICAgICAgICBsZXQgY2FydGVzaWFuID0gdGhpcy52aWV3ZXIuY2FtZXJhLnBpY2tFbGxpcHNvaWQobW92ZS5lbmRQb3NpdGlvbiwgdGhpcy5zY2VuZS5nbG9iZS5lbGxpcHNvaWQpO1xyXG4gICAgICAgICAgICBpZiAoaXNCZWdpbiAmJiBjYXJ0ZXNpYW4pIHtcclxuICAgICAgICAgICAgICAgIENlc2l1bS5FbGxpcHNvaWQuV0dTODQuc2NhbGVUb0dlb2NlbnRyaWNTdXJmYWNlKGNhcnRlc2lhbixjYXJ0ZXNpYW4pO1xyXG4gICAgICAgICAgICAgICAgLy/lrp7ml7bnu5jliLbngrlcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID10aGlzLmdpcy5hZGRQb2ludChDZXNpdW0uY3JlYXRlR3VpZCgpLGNhcnRlc2lhbixcIumAieWMuueCuVwiLFwi6L+Z5piv6YCJ5Yy654K5XCIsXCIjMDZiNmVmXCIsMSwnJyxmYWxzZSwyLjApO1xyXG4gICAgICAgICAgICAgICAgcG9pbnQudHlwZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlfcG9pbnQucHVzaChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpX2NhcnRlc2lhbi5wdXNoKGNhcnRlc2lhbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcyksQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLk1PVVNFX01PVkUpO1xyXG4gICAgICAgIGhhbmRsZXJzLnNlbGVjdEFyZWFIYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uKHVwKXsvL+m8oOagh+W3pumUruadvuW8gFxyXG4gICAgICAgICAgICBpc0JlZ2luID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmKHRoaXMubXVsdGlfY2FydGVzaWFuLmxlbmd0aCA+Mil7XHJcbiAgICAgICAgICAgICAgICAvL+e7mOWItumAieWMulxyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9seWdvbiA9IHRoaXMuZ2lzLmFkZFBvbHlnb24oQ2VzaXVtLmNyZWF0ZUd1aWQoKSx0aGlzLm11bHRpX2NhcnRlc2lhbix0aGlzLmdldE5hbWUoXCLlpJrovrnlvaLpgInljLpcIiksXCLov5nmmK/lpJrovrnlvaLpgInmi6nljLrln58uXCIsZmFsc2UsXCJ5ZWxsb3dcIiwwLjgsJycsdHJ1ZSwyLjApO1xyXG4gICAgICAgICAgICAgICAgcG9seWdvbi50eXBlPVwiU0VMX0FSRUFcIjtcclxuICAgICAgICAgICAgICAgIHBvbHlnb24ubGFiZWwuc2hvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcG9seWdvbi5iaWxsYm9hcmQuc2hvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZXRpb24uYWRkKHBvbHlnb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aV9wb2ludC5mb3JFYWNoKGUgPT4gdGhpcy5naXMucmVtb3ZlT3ZlcmxheUJ5SWQoZS5pZCksdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAvL+iuoeeul+mAieWMuuWGheeahOebruagh+W5tumAmui/h+S6i+S7tui/lOWbnuebruagh+S/oeaBr1xyXG4gICAgICAgICAgICAgICAgdGhpcy5naXMuZXZlbnQuZmlyZUV2ZW50KFwib25NdWx0aVNlbGVjdGVkXCIsdGhpcy5ncmFwaGljcy5nZXRPdmVybGF5RnJvbVBvbHlnb24ocG9seWdvbikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZ2lzLmRpc2FibGVEZWZhdWx0RXZlbnRIYW5kbGVycyh0cnVlLHRydWUsdHJ1ZSx0cnVlLHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLm11bHRpX3BvaW50ID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubXVsdGlfY2FydGVzaWFuID0gW107XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX1VQKTtcclxuICAgIH1cclxuICAgIC8v56e76Zmk5omA5pyJXHJcbiAgICByZW1vdmVBbGwgKGUpIHtcclxuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbihlKTtcclxuICAgICAgICB0aGlzLmNvbGxldGlvbi52YWx1ZXMuZm9yRWFjaCh2ID0+IHRoaXMuZ2lzLnJlbW92ZU92ZXJsYXlCeUlkKHYuaWQpKTtcclxuICAgICAgICB0aGlzLmNvbGxldGlvbi5yZW1vdmVBbGwoKTtcclxuICAgIH1cclxuICAgIC8v5piv5ZCm5pi+56S65Z2Q5qCH5L+h5oGvXHJcbiAgICBzaG93UG9zaXRpb24gKGUpIHtcclxuICAgICAgICB0aGlzLnN0b3BEcmF3aW5nKGUpO1xyXG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKGUpO1xyXG4gICAgICAgIHRoaXMuZ2lzLnNob3dQb3NpdGlvbiA9ICF0aGlzLmdpcy5zaG93UG9zaXRpb247XHJcbiAgICB9XHJcbiAgICAvL+WBnOatoue7mOWItlxyXG4gICAgc3RvcERyYXdpbmcgKGUpIHtcclxuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbihlKTtcclxuICAgICAgICBoYW5kbGVycy5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMuZ2lzLmlzVG9vbFdpZ2h0ID0gZmFsc2U7XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhDQTtBQUNBOzs7O0FBa0NBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQWpCQTtBQWtCQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUF2WEE7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/plugin/draw.js\n");

/***/ })

}]);