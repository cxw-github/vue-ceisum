(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{187:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(i(17)),s=d(i(1)),o=d(i(2)),l=d(i(18)),n=d(i(19)),r=d(i(3));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){(0,s.default)(this,t);var i=(0,l.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.gis=e,i.dom=null,i}return(0,n.default)(t,e),(0,o.default)(t,[{key:"init",value:function(){var e=this,t=void 0,i=void 0,a=void 0,s=this.gis.config.plugin.type,o=this.gis.pluginManage,l=r.default.createList({id:"Draw",title:"绘制模式",className:"gis-nav-bar clearFix",listClassName:"gis-paint",parent:o.toolBar,onclick:function(l){n.dom.classList.toggle("active"),t=t||s.dateModule&&o.getPlugin("DateTime"),a=a||s.dragModule&&o.getPlugin("DragTool"),i=i||s.measureModule&&o.getPlugin("MeasureTool"),t&&t.proto.close(),i&&i.proto.close(),a&&a.proto.close(),e.stopDrawing(l)}}),n=o.addPlugin({id:"DrawTool",title:"绘制模式",className:"gis-tool gis-paintTool",type:"tool",proto:this,parent:l});this.dom=n.dom,this.initial(),this.loadPaintToolOperate(n.dom),this.loadPaintKeyboardOperate()}},{key:"loadPaintToolOperate",value:function(e){r.default.createList({title:"点",className:"clearFix",listClassName:"gis-point",parent:e,onclick:this.drawPoint.bind(this)}),r.default.createList({title:"线",listClassName:"gis-line",parent:e,onclick:this.drawLine.bind(this)}),r.default.createList({title:"矩形",listClassName:"gis-rectangle",parent:e,onclick:this.drawRectangle.bind(this)}),r.default.createList({title:"多边形",listClassName:"gis-polygon",parent:e,onclick:this.drawPolygon.bind(this)}),r.default.createList({title:"移动",listClassName:"gis-move",parent:e,onclick:this.drawMoveTarget.bind(this)}),r.default.createList({title:"移除所有",listClassName:"gis-delete",parent:e,onclick:this.removeAll.bind(this)}),r.default.createList({title:"是否显示位置信息",listClassName:"gis-position",parent:e,onclick:this.showPosition.bind(this)}),r.default.createList({title:"停止绘制",listClassName:"gis-end",parent:e,onclick:this.stopDrawing.bind(this)})}},{key:"loadPaintKeyboardOperate",value:function(){var e=this;document.onkeypress=function(t){var i=(t=t||window.event).shiftKey,a=t.keyCode||t.which||t.charCode,s=String.fromCharCode(a).toLowerCase();if(i)switch(s){case"p":e.drawPoint(t);break;case"l":e.drawLine(t);break;case"t":e.drawRectangle(t);break;case"a":e.drawPolygon(t);break;case"m":e.drawMoveTarget(t);break;case"c":e.removeAll(t);break;case"s":e.showPosition(t);break;case"q":e.stopDrawing(t);break;default:e.stopDrawing(t)}}}},{key:"close",value:function(){this.dom.classList.remove("active"),this.stopDrawing()}},{key:"enable",value:function(e){e=Boolean(e),this.dom.parentNode.style.display=e?"block":"none"}}]),t}(d(i(128)).default);t.default=c}}]);