(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["drawManage0"],{

/***/ "./src/js/plugin/drawManage.js":
/*!*************************************!*\
  !*** ./src/js/plugin/drawManage.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(/*! babel-runtime/core-js/object/get-prototype-of */ \"./node_modules/babel-runtime/core-js/object/get-prototype-of.js\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ \"./node_modules/babel-runtime/helpers/classCallCheck.js\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ \"./node_modules/babel-runtime/helpers/createClass.js\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(/*! babel-runtime/helpers/possibleConstructorReturn */ \"./node_modules/babel-runtime/helpers/possibleConstructorReturn.js\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(/*! babel-runtime/helpers/inherits */ \"./node_modules/babel-runtime/helpers/inherits.js\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _widgetHelper = __webpack_require__(/*! ../widgetHelper */ \"./src/js/widgetHelper.js\");\n\nvar _widgetHelper2 = _interopRequireDefault(_widgetHelper);\n\nvar _draw = __webpack_require__(/*! ./draw */ \"./src/js/plugin/draw.js\");\n\nvar _draw2 = _interopRequireDefault(_draw);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*绘制操作模块*/\nvar _class = function (_Draw) {\n    (0, _inherits3.default)(_class, _Draw);\n\n    function _class(gis) {\n        (0, _classCallCheck3.default)(this, _class);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (_class.__proto__ || (0, _getPrototypeOf2.default)(_class)).call(this, gis));\n\n        _this.gis = gis;\n        _this.dom = null;\n        return _this;\n    }\n    //初始化\n\n\n    (0, _createClass3.default)(_class, [{\n        key: 'init',\n        value: function init() {\n            var _this2 = this;\n\n            var dateTool = void 0,\n                measureTool = void 0,\n                dragTool = void 0;\n            var pluginType = this.gis.config.plugin.type,\n                pluginManage = this.gis.pluginManage;\n            var list = _widgetHelper2.default.createList({ id: 'Draw', title: '绘制模式', className: 'gis-nav-bar clearFix', listClassName: 'gis-paint', parent: pluginManage.toolBar,\n                onclick: function onclick(e) {\n                    plugin.dom.classList.toggle('active');\n                    dateTool = dateTool || pluginType.dateModule && pluginManage.getPlugin('DateTime');\n                    dragTool = dragTool || pluginType.dragModule && pluginManage.getPlugin('DragTool');\n                    measureTool = measureTool || pluginType.measureModule && pluginManage.getPlugin('MeasureTool');\n                    dateTool && dateTool.proto.close();\n                    measureTool && measureTool.proto.close();\n                    dragTool && dragTool.proto.close();\n                    _this2.stopDrawing(e);\n                } });\n            var plugin = pluginManage.addPlugin({ id: 'DrawTool', title: '绘制模式', className: 'gis-tool gis-paintTool',\n                type: 'tool', proto: this, parent: list });\n            this.dom = plugin.dom;\n            this.initial();\n            this.loadPaintToolOperate(plugin.dom);\n            this.loadPaintKeyboardOperate();\n        }\n        //加载绘制操作按钮\n\n    }, {\n        key: 'loadPaintToolOperate',\n        value: function loadPaintToolOperate(parent) {\n            _widgetHelper2.default.createList({ title: '点', className: 'clearFix', listClassName: 'gis-point', parent: parent, onclick: this.drawPoint.bind(this) });\n            _widgetHelper2.default.createList({ title: '线', listClassName: 'gis-line', parent: parent, onclick: this.drawLine.bind(this) });\n            _widgetHelper2.default.createList({ title: '矩形', listClassName: 'gis-rectangle', parent: parent, onclick: this.drawRectangle.bind(this) });\n            _widgetHelper2.default.createList({ title: '多边形', listClassName: 'gis-polygon', parent: parent, onclick: this.drawPolygon.bind(this) });\n            _widgetHelper2.default.createList({ title: '移动', listClassName: 'gis-move', parent: parent, onclick: this.drawMoveTarget.bind(this) });\n            _widgetHelper2.default.createList({ title: '移除所有', listClassName: 'gis-delete', parent: parent, onclick: this.removeAll.bind(this) });\n            _widgetHelper2.default.createList({ title: '是否显示位置信息', listClassName: 'gis-position', parent: parent, onclick: this.showPosition.bind(this) });\n            _widgetHelper2.default.createList({ title: '停止绘制', listClassName: 'gis-end', parent: parent, onclick: this.stopDrawing.bind(this) });\n        }\n        //快捷键操作\n\n    }, {\n        key: 'loadPaintKeyboardOperate',\n        value: function loadPaintKeyboardOperate() {\n            var _this3 = this;\n\n            document.onkeypress = function (e) {\n                e = e || window.event;\n                var shift = e.shiftKey;\n                var keyCode = e.keyCode || e.which || e.charCode;\n                var key = String.fromCharCode(keyCode).toLowerCase();\n                if (shift) {\n                    switch (key) {\n                        case 'p':\n                            _this3.drawPoint(e);\n                            break;\n                        case 'l':\n                            _this3.drawLine(e);\n                            break;\n                        case 't':\n                            _this3.drawRectangle(e);\n                            break;\n                        case 'a':\n                            //区域目标\n                            _this3.drawPolygon(e);\n                            break;\n                        case 'm':\n                            _this3.drawMoveTarget(e);\n                            break;\n                        case 'c':\n                            //移除所有实体\n                            _this3.removeAll(e);\n                            break;\n                        case 's':\n                            //是否显示位置信息\n                            _this3.showPosition(e);\n                            break;\n                        case 'q':\n                            //取消绘制\n                            _this3.stopDrawing(e);\n                            break;\n                        default:\n                            _this3.stopDrawing(e);\n                    }\n                }\n            };\n        }\n        //关闭绘制状态并隐藏\n\n    }, {\n        key: 'close',\n        value: function close() {\n            this.dom.classList.remove('active');\n            this.stopDrawing();\n        }\n        //是否显示\n\n    }, {\n        key: 'enable',\n        value: function enable(isShow) {\n            isShow = Boolean(isShow);\n            if (isShow) this.dom.parentNode.style.display = 'block';else this.dom.parentNode.style.display = 'none';\n        }\n    }]);\n    return _class;\n}(_draw2.default);\n\nexports.default = _class;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcGx1Z2luL2RyYXdNYW5hZ2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3BsdWdpbi9kcmF3TWFuYWdlLmpzPzdmMmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyrnu5jliLbmk43kvZzmqKHlnZcqL1xyXG5pbXBvcnQgd2lkZ2V0SGVscGVyIGZyb20gJy4uL3dpZGdldEhlbHBlcic7XHJcbmltcG9ydCBEcmF3IGZyb20gJy4vZHJhdyc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRHJhdyB7XHJcbiAgICBjb25zdHJ1Y3RvcihnaXMpIHtcclxuICAgICAgICBzdXBlcihnaXMpO1xyXG4gICAgICAgIHRoaXMuZ2lzID0gZ2lzO1xyXG4gICAgICAgIHRoaXMuZG9tID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8v5Yid5aeL5YyWXHJcbiAgICBpbml0ICgpIHtcclxuICAgICAgICBsZXQgZGF0ZVRvb2wsbWVhc3VyZVRvb2wsZHJhZ1Rvb2w7XHJcbiAgICAgICAgY29uc3QgcGx1Z2luVHlwZSA9IHRoaXMuZ2lzLmNvbmZpZy5wbHVnaW4udHlwZSxwbHVnaW5NYW5hZ2UgPSB0aGlzLmdpcy5wbHVnaW5NYW5hZ2U7XHJcbiAgICAgICAgY29uc3QgbGlzdCA9IHdpZGdldEhlbHBlci5jcmVhdGVMaXN0KHtpZDonRHJhdycsdGl0bGU6J+e7mOWItuaooeW8jycsY2xhc3NOYW1lOidnaXMtbmF2LWJhciBjbGVhckZpeCcsbGlzdENsYXNzTmFtZTonZ2lzLXBhaW50JyxwYXJlbnQ6cGx1Z2luTWFuYWdlLnRvb2xCYXIsXHJcbiAgICAgICAgICAgIG9uY2xpY2s6KGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi5kb20uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBkYXRlVG9vbCA9IGRhdGVUb29sIHx8IHBsdWdpblR5cGUuZGF0ZU1vZHVsZSAmJiBwbHVnaW5NYW5hZ2UuZ2V0UGx1Z2luKCdEYXRlVGltZScpO1xyXG4gICAgICAgICAgICAgICAgZHJhZ1Rvb2wgPSBkcmFnVG9vbCB8fCBwbHVnaW5UeXBlLmRyYWdNb2R1bGUgJiYgcGx1Z2luTWFuYWdlLmdldFBsdWdpbignRHJhZ1Rvb2wnKTtcclxuICAgICAgICAgICAgICAgIG1lYXN1cmVUb29sID0gbWVhc3VyZVRvb2wgfHwgcGx1Z2luVHlwZS5tZWFzdXJlTW9kdWxlICYmIHBsdWdpbk1hbmFnZS5nZXRQbHVnaW4oJ01lYXN1cmVUb29sJyk7XHJcbiAgICAgICAgICAgICAgICBkYXRlVG9vbCAmJiBkYXRlVG9vbC5wcm90by5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgbWVhc3VyZVRvb2wgJiYgbWVhc3VyZVRvb2wucHJvdG8uY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIGRyYWdUb29sICYmIGRyYWdUb29sLnByb3RvLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BEcmF3aW5nKGUpO1xyXG4gICAgICAgIH19KTtcclxuICAgICAgICBjb25zdCBwbHVnaW4gPSBwbHVnaW5NYW5hZ2UuYWRkUGx1Z2luKHtpZDonRHJhd1Rvb2wnLHRpdGxlOifnu5jliLbmqKHlvI8nLGNsYXNzTmFtZTonZ2lzLXRvb2wgZ2lzLXBhaW50VG9vbCcsXHJcbiAgICAgICAgICAgIHR5cGU6J3Rvb2wnLHByb3RvOnRoaXMscGFyZW50Omxpc3R9KTtcclxuICAgICAgICB0aGlzLmRvbSA9IHBsdWdpbi5kb207XHJcbiAgICAgICAgdGhpcy5pbml0aWFsKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkUGFpbnRUb29sT3BlcmF0ZShwbHVnaW4uZG9tKTtcclxuICAgICAgICB0aGlzLmxvYWRQYWludEtleWJvYXJkT3BlcmF0ZSgpO1xyXG4gICAgfVxyXG4gICAgLy/liqDovb3nu5jliLbmk43kvZzmjInpkq5cclxuICAgIGxvYWRQYWludFRvb2xPcGVyYXRlIChwYXJlbnQpIHtcclxuICAgICAgICB3aWRnZXRIZWxwZXIuY3JlYXRlTGlzdCh7dGl0bGU6J+eCuScsY2xhc3NOYW1lOidjbGVhckZpeCcsbGlzdENsYXNzTmFtZTonZ2lzLXBvaW50JyxwYXJlbnQsb25jbGljazp0aGlzLmRyYXdQb2ludC5iaW5kKHRoaXMpfSk7XHJcbiAgICAgICAgd2lkZ2V0SGVscGVyLmNyZWF0ZUxpc3Qoe3RpdGxlOifnur8nLGxpc3RDbGFzc05hbWU6J2dpcy1saW5lJyxwYXJlbnQsb25jbGljazp0aGlzLmRyYXdMaW5lLmJpbmQodGhpcyl9KTtcclxuICAgICAgICB3aWRnZXRIZWxwZXIuY3JlYXRlTGlzdCh7dGl0bGU6J+efqeW9oicsbGlzdENsYXNzTmFtZTonZ2lzLXJlY3RhbmdsZScscGFyZW50LG9uY2xpY2s6dGhpcy5kcmF3UmVjdGFuZ2xlLmJpbmQodGhpcyl9KTtcclxuICAgICAgICB3aWRnZXRIZWxwZXIuY3JlYXRlTGlzdCh7dGl0bGU6J+Wkmui+ueW9oicsbGlzdENsYXNzTmFtZTonZ2lzLXBvbHlnb24nLHBhcmVudCxvbmNsaWNrOnRoaXMuZHJhd1BvbHlnb24uYmluZCh0aGlzKX0pO1xyXG4gICAgICAgIHdpZGdldEhlbHBlci5jcmVhdGVMaXN0KHt0aXRsZTon56e75YqoJyxsaXN0Q2xhc3NOYW1lOidnaXMtbW92ZScscGFyZW50LG9uY2xpY2s6dGhpcy5kcmF3TW92ZVRhcmdldC5iaW5kKHRoaXMpfSk7XHJcbiAgICAgICAgd2lkZ2V0SGVscGVyLmNyZWF0ZUxpc3Qoe3RpdGxlOifnp7vpmaTmiYDmnIknLGxpc3RDbGFzc05hbWU6J2dpcy1kZWxldGUnLHBhcmVudCxvbmNsaWNrOnRoaXMucmVtb3ZlQWxsLmJpbmQodGhpcyl9KTtcclxuICAgICAgICB3aWRnZXRIZWxwZXIuY3JlYXRlTGlzdCh7dGl0bGU6J+aYr+WQpuaYvuekuuS9jee9ruS/oeaBrycsbGlzdENsYXNzTmFtZTonZ2lzLXBvc2l0aW9uJyxwYXJlbnQsb25jbGljazp0aGlzLnNob3dQb3NpdGlvbi5iaW5kKHRoaXMpfSk7XHJcbiAgICAgICAgd2lkZ2V0SGVscGVyLmNyZWF0ZUxpc3Qoe3RpdGxlOiflgZzmraLnu5jliLYnLGxpc3RDbGFzc05hbWU6J2dpcy1lbmQnLHBhcmVudCxvbmNsaWNrOnRoaXMuc3RvcERyYXdpbmcuYmluZCh0aGlzKX0pO1xyXG4gICAgfVxyXG4gICAgLy/lv6vmjbfplK7mk43kvZxcclxuICAgIGxvYWRQYWludEtleWJvYXJkT3BlcmF0ZSAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQub25rZXlwcmVzcyA9IGUgPT4ge1xyXG4gICAgICAgICAgICBlID1lIHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgY29uc3Qgc2hpZnQgPSBlLnNoaWZ0S2V5O1xyXG4gICAgICAgICAgICBjb25zdCBrZXlDb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2ggfHwgZS5jaGFyQ29kZTtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gU3RyaW5nLmZyb21DaGFyQ29kZShrZXlDb2RlKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBpZihzaGlmdCkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdwJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3UG9pbnQoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2wnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMaW5lKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3UmVjdGFuZ2xlKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdhJzovL+WMuuWfn+ebruagh1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdQb2x5Z29uKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TW92ZVRhcmdldChlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYyc6Ly/np7vpmaTmiYDmnInlrp7kvZNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGwoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3MnOi8v5piv5ZCm5pi+56S65L2N572u5L+h5oGvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1Bvc2l0aW9uKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdxJzovL+WPlua2iOe7mOWItlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BEcmF3aW5nKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BEcmF3aW5nKGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy/lhbPpl63nu5jliLbnirbmgIHlubbpmpDol49cclxuICAgIGNsb3NlICgpIHtcclxuICAgICAgICB0aGlzLmRvbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB0aGlzLnN0b3BEcmF3aW5nKCk7XHJcbiAgICB9XHJcbiAgICAvL+aYr+WQpuaYvuekulxyXG4gICAgZW5hYmxlKGlzU2hvdyl7XHJcbiAgICAgICAgaXNTaG93ID0gQm9vbGVhbihpc1Nob3cpO1xyXG4gICAgICAgIGlmKGlzU2hvdylcclxuICAgICAgICAgICAgdGhpcy5kb20ucGFyZW50Tm9kZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuZG9tLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUhBOzs7O0FBSUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUlBO0FBQ0E7QUFDQTtBQUNBOzs7QUFEQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFCQTtBQTRCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUlBOzs7QUExRkE7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/plugin/drawManage.js\n");

/***/ })

}]);